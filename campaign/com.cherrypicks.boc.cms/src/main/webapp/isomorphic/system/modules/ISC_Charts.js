
/*

  SmartClient Ajax RIA system
  Version v8.3p_2013-03-13/Pro Development Only (2013-03-13)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF THE
     SOFTWARE LICENSE AGREEMENT. If you have received this file without an 
     Isomorphic Software license file, please see:

         http://www.isomorphic.com/licenses/license-sisv.html

     You are not required to accept this agreement, however, nothing else
     grants you the right to copy or use this software. Unauthorized copying
     and use of this software is a violation of international copyright law.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. YOU ARE EXPRESSLY PROHIBITED
     FROM ATTEMPTING TO REVERSE ENGINEER THIS SOFTWARE OR MODIFY THIS
     SOFTWARE FOR HUMAN READABILITY.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_Charts){isc.module_Charts=1;isc._moduleStart=isc._Charts_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Charts load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;if(window.isc&&isc.version!="v8.3p_2013-03-13/Pro Development Only"){isc.logWarn("SmartClient module version mismatch detected: This application is loading the core module from SmartClient version '"+isc.version+"' and additional modules from 'v8.3p_2013-03-13/Pro Development Only'. Mixing resources from different SmartClient packages is not supported and may lead to unpredictable behavior. If you are deploying resources from a single package you may need to clear your browser cache, or restart your browser."+(isc.Browser.isSGWT?" SmartGWT developers may also need to clear the gwt-unitCache and run a GWT Compile.":""))}
isc.ClassFactory.defineInterface("Chart").addInterfaceMethods({valueProperty:"_value",metricFacetId:"metric",stacked:false,isStacked:function(_1){return(_1||this).stacked},chartType:"Column",threeD:true,animateValuesOnShow:true,labelValues:false,setupChart:function(){if(this.facets!=null&&!isc.isAn.Array(this.facets)){this.facets=[this.facets]}
var _1=this.inlinedFacet=this.facets.find("inlinedValues",true);if(_1)_1.id=_1.id||"inlined";this.metricFacet=null;for(var i=0;i<this.facets.length;i++){var _3=this.facets[i];if(_3.id==this.metricFacetId)this.metricFacet=_3;this.deriveFacetValues(_3);_3.valueIds=_3.values.getProperty("id")}
if(!this.data)return},getFacetData:function(){if(this.facetData&&this.data==this.$78u)return this.facetData;var _1=this.data;if(!isc.isAn.Array(_1))return _1;var _2=[];for(var i=0;i<_1.length;i++){var _4=_1[i],_5=true;for(var j=0;j<this.facets.length;j++){var _7=this.facets[j];if(_7==this.inlinedFacet||_7.autoDerived)continue;if(!_7.valueIds.contains(_4[_7.id])){_5=false;break}}
if(_5)_2.add(_4)}
this.$78u=_1;return(this.facetData=_2)},deriveFacetValues:function(_1){if(_1.values&&!_1.autoDerived)return;var _2=_1.id,_3=[];for(var i=0;i<this.data.getLength();i++){var _5=this.data.get(i)[_2];if(!_3.find("id",_5)){_3.add({id:_5,title:_5})}}
_1.autoDerived=true;_1.values=_3},getFacet:function(_1){return this.facets.find("id",_1)},getFacetValue:function(_1,_2){var _3=this.getFacet(_1);if(_3)return _3.values.find("id",_2)},isMultiFacet:function(){return this.facets.length>(this.metricFacet!=null?2:1)},getValue:function(_1,_2){var _3=this.getFacetData();if(_3==null)return null;_1=_1||{};if(_2==null)_2=this.multiCellData;var _4=this.getDataRecord(_1,_2);if(!_4)return null;return this.getValueFromRecord(_4,_1,_2)},getValueFromRecord:function(_1,_2,_3){if(_1==null)return null;if(!this.metricFacet){if(!this.inlinedFacet||(_2&&_2[this.inlinedFacet.id]!=null)){var _4=this.inlinedFacet?_2[this.inlinedFacet.id]:this.valueProperty;return _3?_1.getProperty(_4).map(parseFloat):parseFloat(_1[_4])}
var _5=isc.isAn.Array(_1)?_1:[_1],_6=[],_7=this.inlinedFacet.valueIds;for(var i=0;i<_5.length;i++){for(var j=0;j<_7.length;j++){_6.add(parseFloat(_5[i][_7[j]]))}}
if(!_3&&_6.length<2)return _6[0];else return _6}else{if(!this.inlinedFacet||this.metricFacetId!=this.inlinedFacet.id){this.logWarn("the metric facet must be an inlined facet");return null}
var _10=_2[this.metricFacet.id];if(!_10)_10=this.getDefaultMetric();return _3?_1.getProperty(_10).map(parseFloat):parseFloat(_1[_10])}},getDataRecord:function(_1,_2){var _3=this.getFacetData();if(!isc.isAn.Array(_3))return _3;if(_2==null)_2=this.multiCellData;if(!this.inlinedFacet){return _2?_3.findAll(_1):_3.find(_1)}
var _4=isc.addProperties({},_1);delete _4[this.inlinedFacet.id];return _2?_3.findAll(_4):_3.find(_4)},getDataSeries:function(_1,_2){var _3=isc.isAn.Object(_1)?_1:this.facets.find("id",_1);if(_2==null){_2={}}if(!isc.isAn.Object(_2)){var _4=_2;var _5=(_3==this.facets[0]?this.facets[1]:this.facets[0]);_2={};_2[_5.id]=_4}else{_2=isc.addProperties({},_2)}
var _6=[];for(var i=0;i<_3.values.length;i++){var _8=_3.values[i];_2[_3.id]=_8.id;var _9=this.getDataRecord(_2),_10=this.getValueFromRecord(_9,_2);_6.add({facetValueId:_8.id,title:_8.title||_8.id,value:_10,record:_9})}
return _6},getDefaultMetric:function(){return this.metricFacet?this.metricFacet.values.first().id:this.valueProperty},getMinValue:function(_1,_2,_3,_4){return this.getMaxValue(_1,_2,_3,_4,false)},getMaxValue:function(_1,_2,_3,_4,_5){_3=_3||this;if(_5==null)_5=true;if(!_1)_1=this.getDefaultMetric();var _6;if(_5){_6=_3.cachedMaxValues=_3.cachedMaxValues||{}}else{_6=_3.cachedMinValues=_3.cachedMinValues||{}}
if(!_2&&_6[_1]!=null)return _6[_1];var _7=(_3!=this);if(this.isMultiFacet()&&this.chartType!="Scatter"&&(!_7||_3.isMultiFacet())){var _8=this.facets[1],_9=this.facets[0],_10={};if(this.metricFacet)_10[this.metricFacet.id]=_1;var _11;for(var i=0;i<_9.values.length;i++){_10[_9.id]=_9.values[i].id;var _13=this.getDataSeries(_8,_10),_14=_13.getProperty("value"),_15;if(this.isStacked(_3)){if(_4){var _16=0;for(var j=0,_18=_14.length;j<_18;++j){_16+=_14[j];if(j==0){_15=_16}else{_15=(_5?Math.max(_15,_16):Math.min(_15,_16))}}}else{_15=_14.sum()}}else{_15=(_5?_14.max():_14.min())}
if(i==0){_11=_15}else{_11=_5?Math.max(_11,_15):Math.min(_11,_15)}}
return(_6[_1]=_11)}else{var _19=null;if(this.chartType!="Scatter"&&_7&&this.isMultiFacet()){_19={};_19[this.facets[1].id]=_3.$1029.id}
if(this.metricFacet){_19=_19||{};_19[this.metricFacet.id]=_1}
var _14=this.getValue(_19,true);if(_14==null)return;return(_6[_1]=(_5?_14.max():_14.min()))}},setData:function(){}});isc.A=isc.Chart;isc.A.allChartTypes=[];isc.A=isc.Chart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$102g=function isc_c_Chart__mean(_1){return _1.sum()/_1.length},isc.A.$102h=function isc_c_Chart__variance(_1,_2,_3){var n=_1.length,_5=_3!=null?_3:isc.Chart.$102g(_1),_6=0;for(var i=n;i--;){var t=_1[i];_6+=t*t}
return(_6-n*_5*_5)/(_2?n:(n-1))},isc.A.$102i=function isc_c_Chart__standardDeviation(_1,_2,_3){return Math.sqrt(_1.$102h(_2,_3))},isc.A.$102j=function isc_c_Chart__range(_1){var n=_1.length;if(n==0){return null}else{var _3=_1[n-1],_4=_1[n-1];for(var i=n-1;i--;){var t=_1[i];_3=Math.min(t,_3);_4=Math.max(t,_4)}
return _4-_3}});isc.B._maxIndex=isc.C+4;if(isc.Flashlet){isc.ClassFactory.defineClass("FusionChart","Flashlet","Chart");isc.A=isc.FusionChart;isc.A.allChartTypes=["Area","Bar","Column","Pie","Doughnut","Line","Radar"];isc.A.singleSeriesChartTypes=["Area","Bar","Column","Pie","Doughnut","Line"];isc.A.singleOnlyChartTypes=["Doughnut","Pie"];isc.A.multiSeriesChartTypes=["Area","Bar","Column","Line","Radar"];isc.A.multiOnlyChartTypes=["Radar"];isc.A.stackedChartTypes=["Area","Bar","Column"];isc.A.threeDChartTypes=["Column","Bar","Pie"];isc.A.needsDimension=["Column","Bar","Pie","Doughnut","Area"];isc.A=isc.FusionChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.overflow="hidden";isc.A.redrawOnResize=true;isc.A.chartsBaseURL=isc.Page.getIsomorphicDir()+"../FusionCharts/Charts/";isc.A.fusionVersion="3.0";isc.A.dataColors=["CCCCFF","CCCC99","FFCCCC","FFFF99","CCFF99","FFCC99","FF0000","00FF00","0000FF","FF00FF","FFFF00","00FFFF","000000"];isc.A.codeBase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";isc.A.pluginsPage="http://www.macromedia.com/go/getflashplayer";isc.A.params={};isc.B.push(isc.A.getDataColor=function isc_FusionChart_getDataColor(_1){return this.dataColors[_1]||"FFFFFF"},isc.A.initWidget=function isc_FusionChart_initWidget(){this.Super("initWidget",arguments);this.setupChart();this.setChartProperties();this.$43w();this.setData()},isc.A.setSrc=function isc_FusionChart_setSrc(){if(this.chartURL){this.src=this.chartURL;return}
var _1=this.stacked&&isc.FusionChart.stackedChartTypes.contains(this.chartType);var _2,_3,_4=isc.FusionChart.needsDimension.contains(this.chartType);if(this.fusionVersion=="2.3"){_3="FC_2_3_";_2="Stckd";if(this.chartType=="Area"&&this.$43x){_2="Stkcd";_4=!_1}}else{_3="";_2="Stacked";if(this.chartType=="Area"&&this.$43x&&!_1){_4=false}}
var _5=isc.SB.create();_5.append(this.chartsBaseURL,_3,isc.FusionChart.multiOnlyChartTypes.contains(this.chartType)||(!this.$43x&&isc.FusionChart.singleSeriesChartTypes.contains(this.chartType))?"":_1?_2:"MS",this.chartType);if(_4){_5.append(this.threeD&&isc.FusionChart.threeDChartTypes.contains(this.chartType)&&!(this.fusionVersion=="2.3"&&this.chartType=="Bar")?"3D":"2D")}
_5.append(".swf")
this.src=_5.toString();this.logInfo("src set to: "+this.src)},isc.A.getInnerHTML=function isc_FusionChart_getInnerHTML(){this.setSrc();var _1=isc.SB.concat('&chartWidth=',this.getInnerWidth(),'&chartHeight=',this.getInnerHeight(),'&dataXML=',encodeURIComponent(this.getChartXML()));this.params.FlashVars=_1;return this.Super("getInnerHTML",arguments)},isc.A.getChartXML=function isc_FusionChart_getChartXML(){var _1=isc.SB.concat('<graph ',this.$263,'>',this.$264,this.$265,'</graph>');if(this.logIsDebugEnabled()){this.logWarn("chartXML: "+_1)}
return _1},isc.A.setChartProperties=function isc_FusionChart_setChartProperties(_1){if(!_1)_1=this.chartProperties;else this.chartProperties=_1;_1=isc.addProperties({caption:this.title,subCaption:this.subTitle,yAxisName:this.valueTitle,xAxisName:this.facets[0].title,animation:this.animateValuesOnShow,showValues:this.labelValues},this.chartProperties);var _2=isc.SB.create();for(var _3 in _1){if(_1[_3]===true){_2.append(_3,'="1" ')}else if(_1[_3]===false){_2.append(_3,'="0" ')}else if(_3.endsWith("olor")&&_1[_3].startsWith("#")){_2.append(_3,'="',_1[_3].substring(1),'" ')}else{_2.append(_3,'="',_1[_3],'" ')}}
this.$263=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$43w=function isc_FusionChart__generateCategoriesXML(_1){if(!_1)_1=this.facets[0].values;var _2=isc.SB.create();_2.append('<categories>');for(var i=0;i<_1.length;i++){if(_1[i].vLine){this.$768(_1[i],_2);continue}
_2.append('<category name="',isc.makeXMLSafe(_1[i].title||_1[i].id),'"');if(_1[i].longTitle){_2.append(' hoverText="',isc.makeXMLSafe(_1[i].longTitle),'"')}
if(_1[i].showTitle===false)_2.append(' showName="0"');_2.append('/>')}
_2.append('</categories>');this.$264=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$768=function isc_FusionChart__writeVLineXML(_1,_2){_2.append('<vLine');for(var _3 in _1){if(_3=="vLine")continue;_2.append(' ',_3,'="',isc.makeXMLSafe(_1[_3]),'"')}
_2.append('/>')},isc.A.setFacets=function isc_FusionChart_setFacets(_1){this.facets=_1;this.setupChart();this.$43w()},isc.A.setData=function isc_FusionChart_setData(_1,_2){var _1=this.data=_1||this.data;if(_1==null||(isc.isAn.Array(_1)&&_1.length==0)){return this.$265=""}
var _3=isc.SB.create();var _4=this.facets.first(),_5=_4.values,_6={};this.$43x=this.isMultiFacet();if(this.isMultiFacet()&&isc.FusionChart.singleOnlyChartTypes.contains(this.chartType))
{this.logWarn("'"+this.chartType+"' charts support one facet only; showing only first value for second facet");this.$43x=false;_6[this.facets[1].id]=this.facets[1].values[0].id}
if(this.$43x){var _7=this.facets[1],_8=_7.values;var _9='<set value="',_10='"',_11='/>';for(var i=0;i<_8.length;i++){_3.append('<dataset seriesname="',isc.makeXMLSafe(_8[i].title),'" color="',this.getDataColor(i),'">');for(var j=0;j<_5.length;j++){if(_5[j].vLine)continue;_6[_7.id]=_8[i].id||_8[i].name;_6[_4.id]=_5[j].id||_5[j].name;var _14=this.getValue(_6);_3.append(_9,_14,_10);var _15=this.getLink(_6,_14);if(_15)_3.append(' link="'+_15+'"');_3.append(_11)}
_3.append("</dataset>")}}else{for(var i=0;i<_5.length;i++){if(_5[i].vLine){this.$768(_5[j],_3);continue}
_6[_4.id]=_5[i].id||_5[i].name;var _14=this.getValue(_6);_3.append('<set value="',_14,'"');var _15=this.getLink(_6,_14);if(_15){_3.append(' link="'+_15+'"')}
_3.append(' name="',isc.makeXMLSafe(_5[i].title||_5[i].id),'"');_3.append(' color="',this.getDataColor(i),'"');if(_5[i].longTitle){_3.append(' hoverText="',isc.makeXMLSafe(_5[i].longTitle),'"')}
if(_5[i].showTitle===false)_3.append(' showName="0"');_3.append('/>')}}
this.$265=_3.toString();if(this.isDrawn())this.markForRedraw()},isc.A.getLink=function isc_FusionChart_getLink(_1,_2){},isc.A.setChartType=function isc_FusionChart_setChartType(_1){if(!isc.FusionChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{_1=this.chartType=_1||this.chartType;this.setData();if(this.isDrawn())this.markForRedraw()}},isc.A.setFusionVersion=function isc_FusionChart_setFusionVersion(_1){this.fusionVersion=_1;this.setSrc();if(this.isDrawn())this.markForRedraw()},isc.A.setStacked=function isc_FusionChart_setStacked(_1){this.stacked=_1;if(_1&&!isc.FusionChart.stackedChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support stacking")}else{if(this.isDrawn())this.markForRedraw()}},isc.A.setThreeD=function isc_FusionChart_setThreeD(_1){if(_1&&!isc.FusionChart.threeDChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support 3D effects")}else{this.threeD=_1;if(this.isDrawn())this.markForRedraw()}});isc.B._maxIndex=isc.C+15}
if(isc.DrawPane){isc.ClassFactory.defineClass("$983","DrawSector");isc.A=isc.$983.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.destroy=function isc__PieSeriesSector_destroy(){var _1=this.fillGradient;if(isc.isA.String(_1)){if(this.drawPane&&this.drawPane.gradients){_1=this.drawPane.gradients[_1];if(_1.$984)delete this.drawPane.gradients[_1]}}
if(isc.isAn.Object(_1)&&_1.$984){var _2=_1.$982;if(_2!=undefined){if(_2.parentNode)_2.parentNode.removeChild(_2);delete _1.$982}}
this.Super("destroy",arguments)});isc.B._maxIndex=isc.C+1;isc.ClassFactory.defineClass("FacetChart","DrawPane","Chart");isc.addGlobal("BarChart",isc.FacetChart);isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultHeight=300;isc.A.defaultWidth=400;isc.A.overflow="hidden";isc.A.xGutter=30;isc.A.yGutter=80;isc.A.padding=5;isc.A.styleName="scChart";isc.A.chartType="Column";isc.A.stacked=null;isc.A.connected=true;isc.A.title="Chart";isc.A.showTitle=true;isc.A.titleProperties={fontSize:14};isc.A.valueAxisLabelProperties={fontSize:11};isc.A.dataAxisLabelProperties={fontSize:11};isc.A.axisLabelMargin=5;isc.A.pixelsPerGradation=28;isc.A.gradationLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.gradationLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.gradationZeroLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.bandedBackground=true;isc.A.backgroundBandProperties={lineOpacity:0,fillColor:"#F7F7F7"};isc.A.showRadarGradationLabels=true;isc.A.radarGradationLabelOffset=2;isc.A.expectedValueLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.standardDeviationLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.useSymmetricStandardDeviations=true;isc.A.standardDeviations=[-1,1];isc.A.standardDeviationBandProperties=[];isc.A.simpleLinearRegressionCurveProperties={lineWidth:2,lineColor:"#999999"};isc.A.regressionPolynomialDegree=2;isc.A.polynomialRegressionCurveProperties={lineWidth:2,lineColor:"#999999"};isc.A.dataPointSize=5;isc.A.dataPointProperties={fillColor:"#FFFFFF",lineWidth:1};isc.A.pointShapes=["Oval","Square","Diamond","Triangle"];isc.A.logScale=false;isc.A.useLogGradations=false;isc.A.logBase=10;isc.A.logGradations=[1,2,4,6,8];isc.A.showChartRect=false;isc.A.chartRectProperties={rounding:0.02,lineWidth:1,lineColor:"#111111",backgroundColor:"#CCCCCC",fillGradient:{x1:'0%',y1:'100%',x2:'100%',y2:'0%',colorStops:[{color:"#FFFFFF",offset:0.0},{color:"#FFFFFF",offset:0.5},{color:"#CCCCCC",offset:0.9},{color:"#C2c2c2",offset:1.0}]},shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.chartRectMargin=5;isc.A.dataMargin=10;isc.A.autoRotateLabels=true;isc.A.dataLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.decimalPrecision=2;isc.A.legendMargin=10;isc.A.legendPadding=5;isc.A.legendSwatchSize=16;isc.A.legendSwatchProperties={lineWidth:1,lineColor:"#000000"};isc.A.legendTextPadding=5;isc.A.legendItemPadding=5;isc.A.legendRowPadding=5;isc.A.showLegendRect=false;isc.A.legendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.legendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.showShadows=true;isc.A.shadowProperties={fillColor:"#333333",lineWidth:1.1};isc.A.barMargin=4;isc.A.minBarThickness=4;isc.A.maxBarThickness=150;isc.A.clusterMarginRatio=4;isc.A.barProperties={fillColor:"#FFCCCC",lineWidth:1,opacity:0.5,lineColor:"#333333"};isc.A.dataLineProperties={lineWidth:3,lineColor:"#333333",shadow:{blur:5,color:"#333333",offset:[2,3]}};isc.A.dataOutlineProperties={lineWidth:1,lineColor:"#333333"};isc.A.dataShapeProperties={lineWidth:0,lineOpacity:0,lineColor:"#333333",fillOpacity:0.5};isc.A.valueLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.discontinuousLines=false;isc.A.singlePointMarkerSize=4;isc.A.maxDataPointSize=14;isc.A.minDataPointSize=3;isc.A.minKnobSize=isc.Browser.isTouch?10:6;isc.A.radarBackgroundProperties={lineWidth:1};isc.A.radialLabelOffset=5;isc.A.pieSliceProperties={lineOpacity:0,lineWidth:0.1};isc.A.pieBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.pieRingBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.showDoughnut=null;isc.A.doughnutRatio=0.2;isc.A.doughnutHoleProperties={lineWidth:0,fillColor:"white"};isc.A.pieLabelLineProperties={lineColor:"#111111",lineWidth:2};isc.A.pieLabelAngleStart=20;isc.A.pieLabelLineExtent=7;isc.A.errorBarWidth=6;isc.A.errorLineProperties={lineWidth:1};isc.A.errorBarColorMutePercent=-60;isc.A.canDrag=false;isc.A.cursor="auto";isc.A.hoverLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:" normal",lineColor:"#333333"};isc.A.hoverRectProperties={rounding:0.3,lineWidth:1,lineColor:"#333333",fillColor:"#ffffff",fillOpacity:0.85,shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.hoverLabelOffset=25;isc.A.brightenPercent=30;isc.A.valueAxisMargin=10;isc.A.gradationTickMarkLength=5;isc.A.tickMarkToValueAxisMargin=7;isc.A.extraAxisMetrics=[];isc.A.extraAxisSettings=[];isc.B.push(isc.A.isStacked=function isc_FacetChart_isStacked(_1){_1=_1||this;return _1.stacked!=null?_1.stacked:_1.chartType!="Line"},isc.A.isFilled=function isc_FacetChart_isFilled(_1){_1=_1||this;return _1.filled!=null?_1.filled:(_1.isMultiFacet()&&this.isStacked(_1))||_1.chartType=="Area"},isc.A.shouldShowDoughnut=function isc_FacetChart_shouldShowDoughnut(){return this.showDoughnut||(this.chartType=="Doughnut"&&this.showDoughnut!==false)},isc.A.$1045=function isc_FacetChart__getCanMoveAxes(){return false;return this.$1035()&&(this.canMoveAxes!=null?this.canMoveAxes:this.$1036().all.length>1)});isc.B._maxIndex=isc.C+4;isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.redrawOnResize=true;isc.A.allContentAndChildren=true;isc.A.$103i=[0.7,1.0,0.9,0.4,0.8,0.5,0.8];isc.A.$1046={getDataColor:function(_1){var _2=this.$103y;return _2.getDataColor.apply(_2,(this.$103z?[_1,this]:[_1+this.$1030,_2]))},getDataGradient:function(_1){var _2=this.$103y;return _2.getDataGradient.apply(_2,(this.$1031?[_1,this]:[_1+this.$1032,_2]))}};isc.A.$1047="#0000ff";isc.A.angleMargin=5;isc.A.$102k=null;isc.A.interactivePoints=true;isc.A.useAutoGradients=true;isc.A.dataColors=["#df5545","#7ae02d","#4d89f9","#2de0e0","#e0e02d","#e02de0","#FF9933","#99FF33","#9933FF","#639966","#63CCCC","#6366FF","#800080","#999999","#FF00FF","#FFCC00","#00FF00","#00CCFF","#996366","#C0C0C0","#000000","#996100","#636300","#006300","#006366","#000080","#636399","#636363","#800000","#FF6600","#808000","#8000FF","#008080","#666699","#808080","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#99CCFF","#CC99FF","#FFFFFF"];isc.A.rotateProps={rotation:90};isc.B.push(isc.A.getChartTop=function isc_FacetChart_getChartTop(){return this.$78t.height+this.chartRectMargin},isc.A.getChartHeight=function isc_FacetChart_getChartHeight(_1){return this.getInnerContentHeight()
-this.getChartTop()
-this.chartRectMargin
-Math.max(this.getXLabelsHeight(_1),this.$104e(_1))
-(this.$78k?this.legendMargin+this.$78k.height:0)},isc.A.getChartLeft=function isc_FacetChart_getChartLeft(){if(this.$1035()){isc.FacetChart.$102q(this.hasYGradations());var _1=this.$1036();isc.FacetChart.$102q(_1!=null);var _2=_1.left,_3=_2.length;return this.getYLabelsWidth()+this.chartRectMargin+_2.getProperty("$104f").sum()+_3*this.valueAxisMargin}else{return this.getYLabelsWidth()+this.chartRectMargin}},isc.A.getChartWidth=function isc_FacetChart_getChartWidth(_1){if(this.$1035()){var _2=this.$1036();isc.FacetChart.$102q(_2!=null);var _3=_2.right,_4=_3.length;return this.getInnerContentWidth()-this.getChartLeft()-this.chartRectMargin-
(this.$104g()?this.getValueAxisLabelHeight(_3[0]):0)-
_3.getProperty("$104f").sum()-
(_4>0?(_4-1)*this.valueAxisMargin:0)}else{return this.getInnerContentWidth()-this.getChartLeft()-this.chartRectMargin}},isc.A.getDataAxisLength=function isc_FacetChart_getDataAxisLength(_1){if(this.chartType=="Radar")return this.getChartHeight(_1)/2;if(this.hasYGradations()){var _2=this.getChartHeight(_1);return _2}else{return this.getChartWidth()}},isc.A.$78g=function isc_FacetChart__drawChartRect(){var _1=this.getChartTop(),_2=this.getChartHeight(),_3=this.getChartLeft(),_4=this.getChartWidth();var _5=this.$778={top:_1,left:_3,width:_4,height:_2}
if(this.showChartRect){this.drawRect(_3,_1,_4,_2,this.chartRectProperties)}},isc.A.getChartRect=function isc_FacetChart_getChartRect(){if(this.$778==null)this.logWarn("getChartRect(): chart rect not available yet");return this.$778},isc.A.getChartRectLineWidth=function isc_FacetChart_getChartRectLineWidth(){var _1=this.chartRectProperties;var _2=_1.lineWidth;if(_1.lineOpacity==0)_2=0;if(!this.showChartRect)_2=0;return _2},isc.A.getStackFacet=function isc_FacetChart_getStackFacet(){return this.facets[1]},isc.A.isPieChart=function isc_FacetChart_isPieChart(_1){_1=_1||this.chartType;return _1=="Pie"||_1=="Doughnut"},isc.A.hasYAxisLabels=function isc_FacetChart_hasYAxisLabels(){return this.chartType!="Radar"&&!this.isPieChart()},isc.A.setStacked=function isc_FacetChart_setStacked(_1,_2){_2=_2||this;_2.stacked=_1;if(this.data)this.setData(this.data)},isc.A.setFilled=function isc_FacetChart_setFilled(_1,_2){_2=_2||this;_2.filled=_1;if(this.data)this.setData(this.data)},isc.A.swapFacets=function isc_FacetChart_swapFacets(){if(this.facets){this.facets.reverse();if(this.data)this.setData(this.data)}},isc.A.setChartType=function isc_FacetChart_setChartType(_1,_2){_2=_2||this;if(!isc.FacetChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{_2.chartType=_1;if(this.data)this.setData(this.data)}},isc.A.showContextMenu=function isc_FacetChart_showContextMenu(){if(this.$1045()){isc.FacetChart.$102q(this.$1035());var x=this.getOffsetX()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopPadding(),_3=this.getChartRect();if(_3!=null){var _4=this.$1036(),_5=_4.all.length,_6=-_4.left.length,_7=_4.right.length;for(var j=0;j<_5;++j){var _9=_4.all[j],_10=this.$103v(_9),_11=_10+_9.$104f;if(_10<=x&&x<=_11&&y>=_3.top&&y<=_9.$1048.getBoundingBox()[3]){var _12=[],_13=this.$1049(_9);for(var i=_6;i<=_7;++i){if(i==0){continue}
var c=(i<0?_4.left[-i-1]:_4.right[i-1]);if(_9==c){continue}
var _16=this.$1049(c);isc.FacetChart.$102q(c!=_9&&c!=this&&_13!=_16);var _17;if(c.valueTitle!=null){_17=c.valueTitle}else{var _18=this.metricFacet.values.find("id",c.$103o);isc.FacetChart.$102q(_18!=null);_17=_18.title||_18.id}
_12.push({title:_17,click:"target.changeValueAxisPositions(["+_13+","+_16+","+_16+","+_13+"])"})}
if(!_12.isEmpty()){this.getMenuConstructor().create({data:[{title:"Swap Metric Axes",submenu:_12}]}).showContextMenu(this);return false}}}}}
if(this.$1035()){return true}
var _19=this;var _20=[{title:"Chart Type",submenu:isc.FacetChart.allChartTypes.map(function(_21){return{title:_21,click:"target.setChartType('"+_21+"')",checked:_19.chartType==_21}})},{title:"Fill",submenu:[{title:"Filled",click:"target.setFilled(true)",checked:this.filled!=null&&this.filled},{title:"Unfilled",click:"target.setFilled(false)",checked:this.filled!=null&&!this.filled},{title:"Auto",click:"target.setFilled(null)",checked:this.filled==null}]}];if(this.facets.length>1){_20.add({title:"Stack",submenu:[{title:"Stacked",click:"target.setStacked(true)",checked:this.stacked!=null&&this.stacked},{title:"Unstacked",click:"target.setStacked(false)",checked:this.stacked!=null&&!this.stacked},{title:"Auto",click:"target.setStacked(null)",checked:this.stacked==null}]});_20.add({title:"Swap Facets",click:"target.swapFacets()"})}
this.getMenuConstructor().create({data:_20}).showContextMenu(this);return false},isc.A.initWidget=function isc_FacetChart_initWidget(){this.errorBarColorMutePercent=this.$105v(this.errorBarColorMutePercent,isc.FacetChart.getInstanceProperty("errorBarColorMutePercent"));this.Super("initWidget",arguments);this.origDataGradients=this.dataGradients;this.dataGradients=isc.addProperties({},this.origDataGradients);this.isVML=this.drawingType=="vml";this.hasShadows=!this.isVML;if(this.facets&&this.facets.length>2&&this.chartType!="Scatter"&&!((this.chartType=="Line"||this.chartType=="Area")&&(this.highErrorMetric!=null||this.lowErrorMetric!=null))&&!(this.extraAxisMetrics!=null&&isc.isAn.Array(this.extraAxisMetrics)&&!this.extraAxisMetrics.isEmpty()))
{this.logWarn("The FacetChart \""+this.getID()+"\" has "+this.facets.length+" facets, but it is not a scatter plot and it does not have any extraAxisMetrics.  This is probably an error as the chart cannot utilize more than two facets.")}
this.setData(this.data)},isc.A.draw=function isc_FacetChart_draw(){if(isc.$cv)arguments.$cw=this;if(!this.readyToDraw())return this;this.Super("draw",arguments);this.drawChart();return this},isc.A.resized=function isc_FacetChart_resized(_1,_2,_3){this.Super("resized",arguments);if(_3!="init")this.setData(this.data)},isc.A.setFacets=function isc_FacetChart_setFacets(_1){this.facets=_1;if(this.data&&this.data.length>0)this.setupChart()},isc.A.setData=function isc_FacetChart_setData(_1){if(!_1)return;if(_1!=null&&!isc.isAn.Array(_1))_1=[_1];this.data=_1;if(!this.data||(isc.isAn.Array(this.data)&&this.data.length==0)){if(this.isDrawn())this.destroyItems();return}
this.setupChart();var _2=this.getMaxValue(null,true);this.logInfo("setData: maxValue: "+_2);this.$1037();this.$105a(false)},isc.A.$105a=function isc_FacetChart__redrawFacetChart(_1){if(!isc.Browser.isIE||this.isDrawn()){this.destroyItems()}
if(_1){this.orderedData=null}
delete this.cachedMaxValues;delete this.cachedMinValues;delete this.gradations;delete this.$104j;if(this.$1035()){var _2=this.$1036().all;for(var i=0;i<_2.length;++i){var _4=_2[i];delete _4.cachedMaxValues;delete _4.cachedMinValues;delete _4.gradations}}
this.xLabelsHeight=this.yLabelsWidth=this.orderedData=null;if(!this.isDrawn())return;this.drawChart()},isc.A.drawChart=function isc_FacetChart_drawChart(){this.drawTitle();if(this.shouldShowLegend())this.drawLegend();if(!isc.isAn.Array(this.data)||this.data.length==0)return;this.measureDataLabels();this.$103m();this.measureGradationLabels(true);this.$78g();this.drawGradationLabels();this.$103n();if(this.chartBackgroundDrawn){this.chartBackgroundDrawn()}
this.drawData();this.drawDataAxisLabel();this.$104h();if(this.chartDrawn){this.chartDrawn()}},isc.A.hasXGradations=function isc_FacetChart_hasXGradations(_1){return(_1||this.chartType)=="Bar"},isc.A.hasYGradations=function isc_FacetChart_hasYGradations(_1){return(_1||this.chartType)!="Bar"},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(){if(this.hasYGradations()){this.getXLabelsHeight(true)}else{this.getYLabelsWidth(true)}},isc.A.erase=function isc_FacetChart_erase(_1,_2){this.$1002();if(this.knobs!=null){this.knobs.map("destroy")}
this.Super("erase",arguments);this.dataGradients=isc.addProperties({},this.origDataGradients)},isc.A.getMultiMaxValue=function isc_FacetChart_getMultiMaxValue(_1){_1=_1||this;var _2=true;if(_1==this){if(this.chartType=="Scatter"&&this.getYAxisMetric()!=null){return this.getMaxValue(this.getYAxisMetric())}else if(!this.metricFacet||!this.highErrorMetric){return this.getMaxValue(null,null,null,_2)}else{return Math.max(this.getMaxValue(),this.getMaxValue(this.highErrorMetric))}}else{return this.getMaxValue(_1.$103o,null,_1,_2)}},isc.A.getMultiMinValue=function isc_FacetChart_getMultiMinValue(_1){_1=_1||this;var _2=true;if(_1==this){if(this.chartType=="Scatter"&&this.getYAxisMetric()!=null){return this.getMinValue(this.getYAxisMetric())}else if(!this.metricFacet||!this.lowErrorMetric){return this.getMinValue(null,null,null,_2)}else{return Math.min(this.getMinValue(),this.getMinValue(this.lowErrorMetric))}}else{return this.getMinValue(_1.$103o,null,_1,_2)}},isc.A.getMagnitude=function isc_FacetChart_getMagnitude(_1,_2,_3){_3=_3||this;if(_1==0)return 0;if(_2==null)_2=_3.logBase;var _4=this.logValue(_1,_2,_3);return Math.ceil(_4)},isc.A.getGradations=function isc_FacetChart_getGradations(_1){return this.$914(null,null,null,null,null,_1)},isc.A.$914=function isc_FacetChart__getGradations(_1,_2,_3,_4,_5,_6){_6=_6||this;_4=(_4!==false);if(_1==null||!isc.isA.Number(_1)){_1=this.getMultiMaxValue(_6)}
if(_2==null||!isc.isA.Number(_2)){_2=0}
var _7=_4&&this.shouldUseLogGradations(_6);if(_7){return this.getLogGradations(_1,this.getMultiMinValue(_6),_3,_6)}
if(!_3&&_6.gradations)return _6.gradations;var _5=_5||this.getDataAxisLength(true);var _8=Math.round(_5/this.pixelsPerGradation);if(_4){_2=this.getMultiMinValue(_6);if(_2>0)_2=0}
var _9=_1-_2;var _10=this.getMagnitude(_9,10,_6);var _11=Math.pow(10,_10-1),_12=Math.pow(10,(_10-2));var _13=[_12,2*_12,5*_12,10*_12,2*_11,5*_11];var _14,_15=Number.MAX_VALUE,_16=false;for(var i=0;i<_13.length;i++){var _18=_13[i],_19=Math.ceil(_9/_18),_20=Math.abs(_8-_19);if(_20<_15&&(!_16||(_19<_8))){_14=_18;_15=_20;_16=_16||(_19<_8)}}
var _18=_14,_21=Math.floor(_2/_18)*_18,_22=(Math.ceil(_1/_18)-Math.floor(_2/_18)+1),_19=[],_23;for(var i=0;i<_22;i++){if(_6.logScale&&_7&&i==0){continue}
_23=_21+(i*_18);if(_18<1){var _24=_11*1000;_23=Math.round(_23*_24)/_24}
_19.add(_23)}
var _25=_5/_22;if(_4)_6.scale=_25/_18;if(this.logIsDebugEnabled("chartScale")&&_6==this){this.logDebug("chose increment: "+_18+". "+_22+" gradations (ideal "+_8+"): "+_19,"chartScale")}
if(_4)_6.gradations=_19;return _19},isc.A.$103m=function isc_FacetChart__calculateAllGradations(_1){var _2=true,_3=true;this.$914(null,null,_2,_3,_1,this);var _4=this.$1036();if(_4!=null){_4=_4.all;for(var i=0,_6=_4.length;i<_6;++i){var _7=_4[i];this.$914(null,null,_2,_3,_1,_7)}}},isc.A.logValue=function isc_FacetChart_logValue(_1,_2,_3){if(_2==null)_2=(_3||this).logBase;return Math.log(_1)/Math.log(_2)},isc.A.shouldUseLogGradations=function isc_FacetChart_shouldUseLogGradations(_1){_1=_1||this;if(_1.logScale==false)return false;if(_1.useLogGradations!=null)return _1.useLogGradations;return _1.logBase==10},isc.A.getLogGradations=function isc_FacetChart_getLogGradations(_1,_2,_3,_4){_4=_4||this;if(!_3&&_4.gradations)return _4.gradations;if(_2<0)this.logWarn("logarithmic scaling is not supported with negative values");var _5=this.getMagnitude(_1,null,_4),_6=this.getMagnitude(_2,null,_4);if(_4==this){this.logDebug("magnitude of max,min: "+[_5,_6],"chartScale")}
if((Math.pow(_4.logBase,_6-1)*_4.logGradations.first())>_2){_6--}
var _7=[];for(var i=_6-1;i<_5;i++){var _9=Math.pow(_4.logBase,i),_10=Math.pow(_4.logBase,Math.abs(i)+1);for(var j=0,_12=_4.logGradations.length;j<_12;j++){var _13=_9*_4.logGradations[j];if(_13<1){_13=Math.floor(_13*_10)/_10}
_7.add(_13)}}
_7.add(Math.pow(_4.logBase,_5));if(_4==this){this.logDebug("log gradations: "+_7,"chartScale")}
return(_4.gradations=_7)},isc.A.getMaxGradation=function isc_FacetChart_getMaxGradation(_1){_1=_1||this;return _1.gradations.last()},isc.A.measureGradationLabels=function isc_FacetChart_measureGradationLabels(){if(this.isPieChart()||this.chartType=="Radar"){this.$85f=this.$85g=0;return}
var _1=this.hasYGradations();if(!this.$1035()){var _2=this.gradationLabelProperties,_3=this.gradations.duplicate();for(var i=0;i<_3.length;i++){_3[i]=this.formatAxisValue(_3[i])}
if(_1){this.$85f=this.measureLabels(_3,"width",_2)}else{if(this.autoRotateLabels){this.$85g=this.measureLabels(_3,"width",_2)}else{this.$85g=this.measureLabel("Xy",_2).height}}}else{var _5=this.$104g(),_6=this.$1036(),_7=this.$104i();isc.FacetChart.$102q(_1);for(var j=0;j<_7;++j){var _9=j==0?this:_6.all[j-1],_2=_9.gradationLabelProperties,_3=_9.gradations.duplicate();for(var i=0;i<_3.length;i++){_3[i]=_9.formatAxisValue(_3[i])}
var _10=_9.$85f=this.measureLabels(_3,"width",_2);_9.$104f=_10;if(_9!=this){_9.$104f+=this.gradationTickMarkLength+this.tickMarkToValueAxisMargin}
if(this.$104m(_9)){_9.$104f+=(this.$104n(_9).lineWidth||0)}
if(!_5&&this.shouldShowValueAxisLabel(_9)){_9.$104f=Math.max(_9.$104f,this.measureLabel(_9.valueTitle,_9.valueAxisLabelProperties).width)}}}},isc.A.getGradationsWidth=function isc_FacetChart_getGradationsWidth(){if(this.$85f==null)this.logWarn("Gradation width not available");return this.$85f},isc.A.getGradationsHeight=function isc_FacetChart_getGradationsHeight(){if(this.$85g==null)this.logWarn("Gradation height not available");return this.$85g},isc.A.drawGradationLabels=function isc_FacetChart_drawGradationLabels(){if(this.isPieChart()||this.chartType=="Radar")return;var _1=this.hasYGradations(),_2=this.$1035(),_3=this.$1036(),_4=_3!=null?_3.all.length:0,_5=1+_4,_6;if(_1){_6=this.getAxisLabelSpace(true)}
isc.FacetChart.$102q(_2==(_3!=null));isc.FacetChart.$102q(_1||!_2);for(var j=0;j<_5;++j){var _8=(j==0?this:_3.all[j-1]),_9=isc.addProperties({$104x:true},_8.gradationLabelProperties),_10=_8.gradations,_11=this.measureLabel("Xy",_9).height;if(_1){var _12;if(_2){_12=this.$103p(_8)}else{_12=_6}
for(var i=0;i<_10.length;i++){var _14=this.getYCoord(_10[i],_8),_15=_8.formatAxisValue(_10[i]);this.drawLabel(_12,_14-(_11/2),_15,_9)}}else{isc.FacetChart.$102q(_5==1&&_8==this);var _16=this.getChartTop()+this.getChartHeight();for(var i=0;i<_10.length;i++){var _12=this.getValueCoord(_10[i],false),_14=_16+this.chartRectMargin,_15=this.formatAxisValue(_10[i]);if(this.autoRotateLabels){this.drawLabel(_12+this.getRotatedCenteringOffset(_11),_14,_15,_9,true,true)}else{var _17=this.measureLabel(_15,_9);this.drawLabel(_12-(_17.width/2),_14,_15,_9)}}}}},isc.A.getGradationLineWidth=function isc_FacetChart_getGradationLineWidth(){return this.gradationLineProperties.lineWidth},isc.A.drawGradations=function isc_FacetChart_drawGradations(_1,_2){this.logDebug("drawing gradations","chartDraw");if(this.isPieChart())return;if(this.chartType=="Radar")return this.drawRadarGradations();if(_1==null)_1=this.hasYGradations();var _3=this.getChartRect(),_4=_1?_3.height:_3.width,_2=_2||this.gradations;var _5=this.getChartRectLineWidth();var i=0,_7=_2.length;if(_5!=0){i=1;_7-=1}
for(;i<_7;i++){if(_1){var _8=_3.left+_5,_9=_3.left+_3.width-_5,_10=this.getYCoord(_2[i]),_11=(_2[i]==0);isc.DrawLine.create(_11?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,startLeft:_8,startTop:_10,endLeft:_9,endTop:_10,autoDraw:true})}else{var _8=this.getXCoord(_2[i],_2,false);isc.DrawLine.create(this.gradationLineProperties,{drawPane:this,startLeft:_8,startTop:_3.top+_5,endLeft:_8,endTop:_3.top+_3.height-(2*_5),autoDraw:true})}
if(this.bandedBackground&&_1&&(i%2==1)&&i!=(_2.length-1)){var _12=this.getYCoord(_2[i+1]),_13=_10-_12,_14=this.gradationLineProperties.lineWidth;isc.DrawRect.create(this.backgroundBandProperties,{drawPane:this,left:_8,top:_12+_14,width:_9-_3.left-_5*2,height:_13-(_14*2),autoDraw:true})}}},isc.A.$103n=function isc_FacetChart__drawAllGradations(){this.drawGradations();var _1=this.$1035();isc.FacetChart.$102q(!_1||this.hasYGradations());if(_1){var _2=this.$1036().all;for(var j=_2.length;j--;){var _4=_2[j],_5=_4.gradations,_6=this.$103q(_4),_7=_6+this.gradationTickMarkLength;for(var i=_5.length;i--;){var _9=this.getYCoord(_5[i],_4),_10=(_5[i]==0);isc.DrawLine.create(_10?_4.gradationZeroLineProperties:_4.gradationLineProperties,{drawPane:this,startLeft:_6,startTop:_9,endLeft:_7,endTop:_9,autoDraw:true})}
this.$104o(_4)}}},isc.A.getValueRatio=function isc_FacetChart_getValueRatio(_1,_2,_3,_4){_4=_4||this;_2=_2||_4.gradations;if(!_2.length)return 0;_3=_3!=null?_3:_4.logScale;var _5=_2.last(),_6=_2.first();if(!_3){var _7=_5-_6;return _7!=0?(_1-_6)/_7:0}else{if(_1==0)return 0;var _8=this.logValue(_5,_4.logBase,_4),_9=_6==0?0:this.logValue(_6,_4.logBase,_4),_10=_8-_9;return _10!=0?(this.logValue(_1,_4.logBase,_4)-_9)/
_10:0}},isc.A.getYCoord=function isc_FacetChart_getYCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&!this.hasYGradations(_3)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.y:null)}}else{return this.getValueCoord(_1,null,_2)}},isc.A.$111k=function isc_FacetChart__completeCriteria(_1,_2){isc.FacetChart.$102q(!(this.isPieChart()||this.chartType=="Scatter"));_2=_2||this;var _3=this.getDataLabelFacet(),_4=this.getFacetValue(_3.id,_1[_3.id]),_5,_6={};if(_4==null){return null}else{_6[_3.id]=_4.id}
if(this.isMultiFacet()){_5=this.getLegendFacet();var _7=_2.chartType,_8=(_7=="Bar"||_7=="Column")&&!this.isStacked(_2),_9=_2.isMultiFacet()&&_8&&(_5.values.length>1);if(_9){var _10=this.getFacetValue(_5.id,_1[_5.id]);if(_10==null){return null}else{_6[_5.id]=_10.id}}else{_6[_5.id]=_5.values[0].id}}
var _11=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_5?this.inlinedFacet:null);if(_11!=null){var _9=(_11.values.length>1);if(_9){var _12=this.getFacetValue(_11.id,_1[_11.id]);if(_12==null){return null}else{_6[_11.id]=_11.values[0].id}}else{_6[_11.id]=_11.values[0].id}}
return _6},isc.A.getValueCoord=function isc_FacetChart_getValueCoord(_1,_2,_3){if(_2==null)_2=true;var _4=this.getValueRatio(_1,null,null,_3);var _5,_6;if(_2){_5=this.getChartTop();_6=this.getChartHeight();return _5+_6-Math.round(_4*_6)}else{_5=this.getChartLeft();_6=this.getChartWidth();return _5+Math.round(_4*_6)}},isc.A.getXCoord=function isc_FacetChart_getXCoord(_1,_2,_3,_4){_4=_4||this;var _5=_4.chartType;if(_5=="Radar"||this.isPieChart(_5)){return null}else if(_5!="Scatter"&&!this.hasXGradations(_5)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_4);var _6=this.getDrawnValue(_1,false);return(_6!=null?_6.x:null)}}else{if(_5=="Scatter"){_2=_2||_4.getSecondGradations()}
var _7=this.getValueRatio(_1,_2,_3,_4),_8=this.getChartRect();return _8.left+Math.round(_7*_8.width)}},isc.A.getDataLabels=function isc_FacetChart_getDataLabels(){if(this.chartType=="Scatter")return this.getSecondGradations();var _1=this.getOrderedData();return _1.getProperty("title")},isc.A.getDataLabelHeight=function isc_FacetChart_getDataLabelHeight(){return this.measureLabel("Xy",this.dataLabelProperties).height},isc.A.getXLabelsHeight=function isc_FacetChart_getXLabelsHeight(_1){if(!_1&&this.xLabelsHeight!=null)return this.xLabelsHeight;if(this.chartType=="Radar"||this.isPieChart())return(this.xLabelsHeight=0);if(this.hasXGradations()){return this.getGradationsHeight()+this.getValueAxisLabelHeight()}
if(this.autoRotateLabels){this.xLabelsHeight=this.measureDataLabels()}else{this.xLabelsHeight=this.measureLabel("Xy",this.dataLabelProperties).height}
this.xLabelsHeight+=this.getDataAxisLabelHeight();return this.xLabelsHeight},isc.A.getYLabelsWidth=function isc_FacetChart_getYLabelsWidth(_1){if(!_1&&this.yLabelsWidth!=null)return this.yLabelsWidth;if(this.hasYGradations()){var _2=this.getGradationsWidth();if(this.$104g()){return _2+this.getValueAxisLabelHeight()}else{return this.$104f}}else{return(this.yLabelsWidth=this.measureDataLabels()+this.getDataAxisLabelHeight())}},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(_1,_2){return this.measureLabels(null,_1,_2)},isc.A.measureLabels=function isc_FacetChart_measureLabels(_1,_2,_3){_1=_1||this.getDataLabels();_2=_2||"width";_3=_3||this.dataLabelProperties;var _4=0;for(var i=0;i<_1.length;i++){var _6=this.measureLabel(_1[i],_3)[_2];_4=Math.max(_4,_6)}
return _4},isc.A.$1035=function isc_FacetChart__hasExtraAxes(){return this.$1038!=null},isc.A.$1039=function isc_FacetChart__getExtraAxisMetrics(){return this.$1038},isc.A.$1036=function isc_FacetChart__getExtraAxisSettings(){return this.$104a},isc.A.$103u=function isc_FacetChart__getFixedFacetValue(_1){isc.FacetChart.$102q(this.facets.length>1&&!_1.multiFacet);var _2=this.getLegendFacet(),_3=_2&&_2.id,_4=_1.fixedFacetValue,_5;if(_2==null){_5=null}else if(isc.isA.String(_4)||isc.isA.Number(_4)){_5=this.getFacetValue(_3,_4)}else if(isc.isA.Object(_4)){var _6=this.getFacetValue(_3,_4.id);_5=(_6==_4?_6:null)}else{_5=null}
return(_1.$1029=_5)},isc.A.$103p=function isc_FacetChart__getValueAxisGradationLabelLeft(_1){isc.FacetChart.$102q(this.$1035());var _2=this.$1036(),_3=this.$103v(_1);if(_1==this){_3+=this.$104f-this.$85f}else{var _4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.right.indexOf(_1)!=-1){_3+=_5+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin}else{_3+=_1.$104f-_1.$85f-_5
-this.gradationTickMarkLength-this.tickMarkToValueAxisMargin}}
return _3},isc.A.$103q=function isc_FacetChart__getValueAxisGradationLineLeft(_1){isc.FacetChart.$102q(this.$1035());isc.FacetChart.$102q(_1!=this);var _2=this.$1036(),_3=this.$103v(_1),_4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.left.indexOf(_1)!=-1){_3+=_1.$104f-_5-this.gradationTickMarkLength}else{_3+=_5}
return _3},isc.A.$104p=function isc_FacetChart__getValueAxisLineLeft(_1){isc.FacetChart.$102q(this.$104m(_1)&&_1!=this&&this.$1035());var _2=this.$104n(_1).lineWidth||0,_3=Math.floor(_2/2),_4=this.$103v(_1),_5=this.$1036();if(_5.left.indexOf(_1)!=-1){_4+=_1.$104f+(_3-_2)}else{_4+=_3}
return _4},isc.A.$103v=function isc_FacetChart__getValueAxisLeft(_1){var _2=this.$1036();isc.FacetChart.$102q(this.$1035()&&_2!=null);var _3;if(_1==this){_3=this.getChartLeft()-this.chartRectMargin-this.$104f}else{var _4=_2.left,_5=_2.right,_6=_4.findIndex(_1),_7=_5.findIndex(_1),_8=this.valueAxisMargin;isc.FacetChart.$102q((_6==-1&&_7>=0)||(_6>=0&&_7==-1));if(_7==-1){_3=(_4.length-1-_6)*_8;for(var i=_4.length;--i>_6;){_3+=_4[i].$104f}}else if(_6==-1){_3=this.getChartLeft()+this.getChartWidth()+this.chartRectMargin+_7*_8;for(var i=0;i<_7;++i){_3+=_5[i].$104f}}}
return _3},isc.A.$104o=function isc_FacetChart__drawValueAxisLine(_1){var _2=this.$104m(_1);if(_2){var _3=this.getChartTop(),_4=this.getChartHeight(),_5=this.$104p(_1),_6=this.$104n(_1);isc.DrawLine.create(_6,{autoDraw:true,drawPane:this,startLeft:_5,startTop:_3,endLeft:_5,endTop:_3+_4})}},isc.A.$104i=function isc_FacetChart__getNumValueAxes(){return 1+(this.$1035()?this.$1036().all.length:0)},isc.A.$104g=function isc_FacetChart__hasSideValueAxisLabels(){if(!this.$1035()){return true}else{var _1=this.$1036();return(_1.left.length==0&&_1.right.length==1)}},isc.A.$104e=function isc_FacetChart__getValueAxisLabelsHeight(_1){if(!_1&&this.$104j!=null){return this.$104j}
var _2=0;if(!this.$104g()){isc.FacetChart.$102q(this.hasYGradations()&&this.$1035());var _3=this.$1036(),_4=this.$104i();for(var j=0;j<_4;++j){var _6=(j==0?this:_3.all[j-1]);if(this.shouldShowValueAxisLabel(_6)){var _7=this.measureLabel(_6.valueTitle,_6.valueAxisLabelProperties).height;_2=Math.max(_2,_7)}}}
return(this.$104j=_2)},isc.A.$104m=function isc_FacetChart__shouldShowValueAxisLine(_1){if(_1==this){return false}
isc.FacetChart.$102q(this.$1035());var _2=this.$1036(),_3=_1.showAxisLine;return(_2.right.length==0||_1!=_2.right[0])&&(_3!=null?_3:this.showChartRect)},isc.A.$104n=function isc_FacetChart__getValueAxisLineProperties(_1){isc.FacetChart.$102q(this.$1035()&&_1!=this);if(_1.axisLineProperties!=null){return _1.axisLineProperties}else{var _2={};if(isc.isAn.Object(this.chartRectProperties)){var _3=this.chartRectProperties;if(_3.lineCap!=null)_2.lineCap=_3.lineCap;if(_3.lineColor!=null)_2.lineColor=_3.lineColor;if(_3.lineOpacity!=null)_2.lineOpacity=_3.lineOpacity;if(_3.linePattern!=null)_2.linePattern=_3.linePattern;if(_3.lineWidth!=null)_2.lineWidth=_3.lineWidth}
return _2}},isc.A.$104b=function isc_FacetChart__createExtraAxisLegendSwatch(_1,_2,_3,_4,_5){isc.FacetChart.$102q(this.$1035());var _6=_5,_7=_5,_8=_1.chartType,_9=[];if(_8=="Column"){var _10=2;var _11=3,_12=5;var _13=this.$103i;var _14=_1.getDataColor(_2),_15=_1.getDataGradient(_2);var _16=Math.floor((_6+_10)/(_11+_10)),_17=Math.floor((_6+_10)/(_12+_10)),_18,_19,_20;for(_18=_16;_18>=_17;--_18){_19=Math.min((_6+_10)/_18)-_10;_20=_6+_10-_18*(_19+_10);if(_20%2==0)break}
var _21=_3+Math.max(_20/2);for(var i=0;i<_18;++i){var _23=Math.round(_13[i%_13.length]*_7);var _24=isc.addProperties({},this.barProperties,{drawPane:this,width:_19,height:_23,left:_21,top:_4+_7-_23});if(!this.useAutoGradients){_24.fillColor=_14}else{_24.fillGradient=_15}
_9.push(isc.DrawRect.create(_24));_21+=_19+_10}}else if(_8=="Area"||(_8=="Line"&&_1.filled)){var _25=1,_26=3;var _13=this.$103i;var _14=_1.getDataColor(_2),_15=_1.getDataGradient(_2);var _27=Math.floor((_6+1)/(_25+1)),_28=Math.floor((_6+1)/(_26+1)),_29,_30,_20;for(_29=_27;_29>=_28;--_29){_30=Math.min((_6+1)/_29)-1;_20=_6+1-_29*(_30+1);if(_20%2==0)break}
var _31=[];var x=_3+Math.max(_20/2);for(var i=0;i<_29;++i){var _33=_13[i%_13.length];_31.push([x,_4+Math.round(_7*(1-_33))]);x+=_30+1}
var _34=_31.duplicate();_34.add([_31.last()[0],_4+_7]);_34.add([_31.first()[0],_4+_7]);_9.addList([this.drawDataLine(_31,{lineColor:_14},_1),this.drawDataShape(_34,{lineColor:_14,fillColor:!this.useAutoGradients?_14:null,fillGradient:this.useAutoGradients?_15:null})])}else if(_8=="Line"){var y=_4+Math.round(_7/2),_36=[_3,y],_37=[_3+Math.round(_6/2),y],_38=[_3+_6,y],_39=Math.min(_1.dataPointSize,_5);_9.push(this.drawDataLine([_36,_38],{lineColor:_1.getDataColor(_2),shadow:null},_1));if(_1.showDataPoints){_9.push(this.drawDataPoint(_37,_2,_39,null,null,_1,false))}}
return isc.DrawGroup.create(this.legendSwatchProperties,{drawPane:this,autoDraw:true,drawItems:_9,left:_3,top:_4,width:_6,height:_7})});isc.evalBoundary;isc.B.push(isc.A.$104z=function isc_FacetChart__getMetricSettingsDefaults(){var _1={multiFacet:this.isMultiFacet(),chartType:"Line"};var _2=["gradationLabelProperties","gradationLineProperties","gradationZeroLineProperties","showDataPoints","dataPointSize","logScale","useLogGradations","logBase","logGradations","decimalPrecision","showShadows","shadowProperties","dataLineProperties","dataOutlineProperties","dataShapeProperties","valueLineProperties","valueAxisLabelProperties","dataPointProperties","formatAxisValue","formatDataValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=isc.FacetChart.getInstanceProperty(_5)}
return _1},isc.A.$1037=function isc_FacetChart__initExtraAxes(){var _1=this.extraAxisMetrics,_2=this.extraAxisSettings;if(!(_1!=null&&isc.isAn.Array(_1)&&!_1.isEmpty())){this.$1038=null;this.$104a=null;return}
if(_2==null||!isc.isAn.Array(_2)){_2=[]}
this.$1038=_1;this.$104a={left:[],right:[],all:_2};var _3=this.chartType=="Column",_4=this.chartType=="Area"||(this.chartType=="Line"&&this.filled);if(_3){this.$104a.barChart=this}else if(_4){this.$104a.areaChart=this}
var _5,_6;if(!this.isMultiFacet()){_5=_6=(this.chartType=="Column"?this.getDataLabelFacet().values.length:1)}else{_5=_6=this.getLegendFacet().values.length}
var _7=_1.length,_8=0;var _9=_7>0&&this.$104z();for(var i=0;i<_7;++i){var j=i-_8,_12=_1[j],_13=!(isc.isA.String(_12)&&(this.inlinedFacet?this.getFacetValue(this.inlinedFacet.id,_12)!=null:(_12==this.valueProperty)));if(!_13){var _14=_2[j]=isc.addDefaults(_2[j]||{},_9);var _15=_14.chartType;if(_15==null){_15=_14.chartType=(i==0&&!_3?"Column":"Line")}
if(_15=="Radar"||this.isPieChart(_15)){_13=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a non-rectangular chart type, which is not allowed.  Skipping this extra value axis.")}else if(!this.hasYGradations(_15)){_13=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a chart type which does not use a vertical value axis and thus is not supported as an extra value axis.  Skipping this extra value axis.")}else if(_3&&_15=="Column"){this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" is a column chart, but there is already a column chart declared on another value axis.  Continuing by converting this metric value axis' chart to a line chart.");_15=_14.chartType="Line";if(_18&&_4){_18=_14.filled=false}}else if(_4&&(_15=="Area"||(_15=="Line"&&_18))){this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" is an area chart, but there is already an area chart declared on another value axis.  Continuing by converting this metric value axis' chart to a line chart.");_15=_14.chartType="Line";if(_18){_18=_14.filled=false}}}
if(_13){_1.removeAt(j);_2.removeAt(j);++_8;continue}
_14.$103o=_12;var _16=!(this.isMultiFacet()&&_14.multiFacet),_17=_16?this.$103u(_14):null,_18=_14.filled;_16&=(!this.isMultiFacet()||_17!=null);_14.$103x=!_16;_3=_15=="Column";_4=_15=="Area"||(_15=="Line"&&_18);if(_3){this.$104a.barChart=_14}else if(_4){this.$104a.areaChart=_14}
this.$104a[(j%4<2)?"right":"left"].push(_14);var _19=this.$1046,_20=isc.isAn.Array(_14.dataColors)||(isc.isA.Function(_14.getDataColor)&&_14.getDataColor!=_19.getDataColor),_21=isc.isAn.Array(_14.dataGradients)||(isc.isA.Function(_14.getDataGradient)&&_14.getDataGradient!=_19.getDataGradient);isc.addDefaults(_14,_19);isc.addProperties(_14,{$103y:this,$103z:_20,$1031:_21,$1030:_5,$1032:_6,isMultiFacet:function(){return this.$103x},getXCoord:function(_23,_24,_25){var _22=this.$103y;return _22.getXCoord.apply(_22,[_23,_24,_25,this])},getYCoord:function(_23){var _22=this.$103y;return _22.getYCoord.apply(_22,[_23,this])},getGradations:function(){var _22=this.$103y;return _22.getGradations.apply(_22,[this])},setChartType:function(_15){var _22=this.$103y;return _22.setChartType.apply(_22,[_15,this])},setStacked:function(_23){var _22=this.$103y;return _22.setStacked.apply(_22,[_23,this])},setFilled:function(_23){var _22=this.$103y;return _22.setFilled.apply(_22,[_23,this])}});if(!_20){if(_16){_5+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_5+=this.getLegendFacet().values.length}}
if(!_21){if(_16){_6+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_6+=this.getLegendFacet().values.length}}}},isc.A.$1049=function isc_FacetChart__getValueAxisIndex(_1){isc.FacetChart.$102q(this.$1035());if(_1==this){return 0}else{var _2=this.$1036(),_3=_2.left.indexOf(_1);if(_3!=-1){_3=-(1+_3)}else{_3=_2.right.indexOf(_1);isc.FacetChart.$102q(_3!=-1);_3=1+_3}
return _3}},isc.A.changeValueAxisPositions=function isc_FacetChart_changeValueAxisPositions(_1){if(!this.$1035()){return}
var _2=this.$1036();var _3=isc.FacetChart.$105b,_4=isc.FacetChart.$105c,_5=isc.isA.Array(_1)&&_1.length%2==0,_6=-_2.left.length,_7=_2.right.length,_8,_9;for(var i=0,_11=_1.length;i<_11;i+=2){var _12=_1[i],_13=_1[i+1];_5=isc.isA.Number(_12)&&isc.isA.Number(_13)&&Math.round(_12)==_12&&Math.round(_13)==_13&&_12!=0&&_13!=0&&_6<=_12&&_12<=_7&&_3(_1,_12,i+2)==-1&&_4(_1,_13,i+3)==-1;_8=i!=0?Math.min(_8,_13):_13;_9=i!=0?Math.max(_9,_13):_13}
var _14,_15;if(_5){_14=Math.min(_6,_8);_15=Math.max(_7,_9);while(_14<=_15&&!(_4(_1,_14)!=-1||_3(_1,_14)==-1)){++_14}
while(_15>_14&&!(_4(_1,_15)!=-1||_3(_1,_15)==-1)){--_15}
_5=(_7-_6==_15-_14)&&_14<=0&&0<=_15}
if(!_5){this.logWarn("An invalid indexMap argument was passed to FacetChart.changeValueAxisPositions().");return}
var _16=[],_17=[],_18=[];for(var i=_6;i<=_7;++i){if(i==0){continue}
var j=_3(_1,i),_12=j!=-1?_1[j]:i,_13=j!=-1?_1[j+1]:i,_20;if(_12>0){_20=_2.right[_12-1]}else if(_12<0){_20=_2.left[-_12-1]}
if(_13>0){_18[_13-1]=_20}else{_17[-_13-1]=_20}}
_2.left=_17;_2.right=_18;this.$105a(false)},isc.A.$105d=function isc_FacetChart__hoverValueAxisLabel(_1){if(_1!=this.$105e){this.$105f();var _2=_1.$1048;_1.$105g=_2.lineColor;_2.lineColor=this.$1047;_2.erase();_2.draw();this.$105e=_1}},isc.A.$105f=function isc_FacetChart__unhoverValueAxisLabel(){var _1=this.$105e;if(_1!=null){var _2=_1.$1048;_2.lineColor=_1.$105g;_2.erase();_2.draw();delete this.$105e}},isc.A.getChartCenter=function isc_FacetChart_getChartCenter(_1){_1=_1||this.getChartRect();return[Math.round(_1.left+(_1.width/2)),Math.round(_1.top+(_1.height/2))]},isc.A.getChartRadius=function isc_FacetChart_getChartRadius(_1){_1=_1||this.getChartRect();var _2=this.radialLabelOffset,_3=this.getChartRectLineWidth();if(this.isPieChart()&&this.isStacked())_2+=this.pieLabelLineExtent;var _4=2*(this.measureDataLabels()+_2),_5=2*(this.getDataLabelHeight()+_2),_6=Math.min(_1.width-_4,_1.height-_5),_7=this.maxRadius=Math.round((_6-(2*_3))/2);return _7},isc.A.drawRadarGradations=function isc_FacetChart_drawRadarGradations(){var _1=this.getChartRect(),_2=this.gradations,_3=this.getChartRadius(_1);isc.DrawOval.create(this.radarBackgroundProperties,{drawPane:this,autoDraw:true,centerPoint:this.getChartCenter(),radius:_3});var _4=this.getChartCenter(),_5=this.showRadarGradationLabels;for(var i=0;i<_2.length;i++){var _7=this.getValueRatio(_2[i])*_3;if(_7!=0){isc.DrawOval.create(_2[i]==0?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,autoDraw:true,centerPoint:_4,radius:_7})}
if(_5){var _8=this.radarGradationLabelOffset;this.drawLabel(_4[0]+_8,_4[1]-_7-(this.getDataLabelHeight()/2)+_8,this.formatAxisValue(_2[i]),this.gradationLabelProperties)}}},isc.A.drawRadarData=function isc_FacetChart_drawRadarData(_1,_2,_3){_1=_1||this.getChartRect();_3=_3||this.getOrderedData();_2=_2||this.getMaxGradation();var _4=this.getDataLabelFacet();if(this.multiCellData){this.drawRadarSet(_4);return}
var _5=this.getChartCenter();var _6=Math.round(360/_4.values.length);for(var i=0;i<_3.length;i++){var _8=_6*i,_9=isc.GraphMath.polar2screen(_8,this.maxRadius,_5,true);this.drawValueLine(_5,_9);this.drawRadialLabel(_5,this.maxRadius,_8,_3[i].title)}
return this.drawLines()},isc.A.getRadarPoints=function isc_FacetChart_getRadarPoints(_1,_2){var _3=[],_4=this.getChartCenter();var _5=Math.round(360/this.getDataLabelFacet().values.length);for(var i=0;i<_2.length;i++){var _7=_2[i],_8=this.getValueRatio(_7),_9=Math.round(_8*this.maxRadius),_10=_5*i,_11=isc.GraphMath.polar2screen(_10,_9,_4,true);_3.add(_11)}
if(this.connected&&!isNaN(_3.last()[1]))_3.add(_3[0]);return _3},isc.A.drawRadarSet=function isc_FacetChart_drawRadarSet(_1){var _2=Math.round(360/_1.values.length);var _3=this.getChartCenter();for(var i=0;i<_1.values.length;i++){var _5=_1.values[i];var _6=(i*_2);var _7=isc.GraphMath.polar2screen(_6,this.maxRadius,_3,true);this.drawValueLine(_3,_7);var _8=_1.values[i].title||_1.values[i].id;var _9=_6+Math.round(_2/2);this.drawRadialLabel(_3,this.maxRadius,_9,_8);var _10={};_10[_1.id]=_5.id;var _11=this.getDataRecord(_10);if(_11==null)return;this.drawPointsAcrossAngle(_11,_6+this.angleMargin,_6+_2-this.angleMargin)}},isc.A.drawPointsAcrossAngle=function isc_FacetChart_drawPointsAcrossAngle(_1,_2,_3){var _4=Math.round((_3-_2)/_1.length),_5=this.getChartCenter(),_6=this.getMaxValue(),_7,_8,_9;if(this.metricFacet){_8=this.metricFacet.values[1].id;_7=this.metricFacet.values[0].id;_9=this.getMaxValue(_8)}
for(var i=0;i<_1.length;i++){var _11=_1[i];var _12,_13=this.dataPointSize;if(this.metricFacet){_12=parseFloat(_11[_7]);var _14=parseFloat(_11[_8]);_13=Math.max(this.minDataPointSize,Math.ceil((_14/_9)*this.maxDataPointSize))}else{_12=_11[this.getDefaultMetric()]}
var _15=Math.round((_12/_6)*this.maxRadius);var _16=isc.GraphMath.polar2screen(_2+(i*_4),_15,_5,true);this.drawDataPoint(_16,0,_13,_11,_12)}},isc.A.drawRadialLabel=function isc_FacetChart_drawRadialLabel(_1,_2,_3,_4){var _5=this.$100k(_1,_2,_3,_4,this.dataLabelProperties);this.drawLabel(_5[0],_5[1],_4,this.dataLabelProperties)},isc.A.$100k=function isc_FacetChart__getRadialLabelCoordinates(_1,_2,_3,_4,_5){var _6=isc.GraphMath.polar2screen(_3,_2+this.radialLabelOffset,_1,true);var _7=this.measureLabel(_4,_5);if(_3>=360)_3-=360;if(_3>180&&_3<=360){_6[0]-=_7.width}
if((_3>=0&&_3<90)||(_3>270&&_3<=360)){_6[1]-=_7.height}
var _8=isc.GraphMath.angleDifference(0,_3),_9=isc.GraphMath.angleDifference(_3,180),_10=isc.GraphMath.angleDifference(90,_3),_11=isc.GraphMath.angleDifference(_3,270),_12=Math.min(Math.abs(_8),Math.abs(_9)),_13=Math.min(Math.abs(_11),Math.abs(_10));if(_12<=20){var _14=Math.abs(_8)==_12?_8:_9,_15=_14==_12?1:-1,_16=_15*(_7.width/2),_17=1-(_12/20),_18=Math.round(_17*_16);_6[0]-=Math.round(_17*_16)}else if(_13<=20){var _14=Math.abs(_11)==_13?_11:_10,_15=_14==_13?1:-1,_16=_15*(_7.height/2),_17=1-(_13/20),_18=Math.round(_17*_16);_6[1]-=_18}
return[_6[0],_6[1]]},isc.A.formatAxisValue=function isc_FacetChart_formatAxisValue(_1){return isc.Format.toUSString(_1)},isc.A.formatDataValue=function isc_FacetChart_formatDataValue(_1){return isc.Format.toUSString(_1)},isc.A.getOrderedData=function isc_FacetChart_getOrderedData(_1){if(this.orderedData&&!_1)return this.orderedData;if(this.chartType=="Scatter"){var _2=this.getLegendFacet(),_3;if(_2!=null){_3=new Array(_2.values.length);for(var j=0;j<_2.values.length;++j){var _5=_2.values[j],_6={};_6[_2.id]=_5.id;var _7=this.getDataRecord(_6,true),_8=_3[j]={facetValueId:_5.id,title:_5.title||_5.id},_9=_8.series=new Array(_7.length);for(var i=_7.length;i--;){_9[i]={record:_7[i]}}}}else{var _7=this.getDataRecord({},true);_3=new Array(_7.length);for(var i=_7.length;i--;){_3[i]={record:_7[i]}}}
this.orderedData=_3;return _3}
isc.FacetChart.$102q(this.chartType!="Scatter");var _3=this.orderedData=[],_11=this.getDataLabelFacet()||this.getLegendFacet(),_12=_11.values,_13={};if(this.isMultiFacet()){var _14=this.getLegendFacet(),_15=_14.values;for(var i=0;i<_12.length;i++){var _6={};_6[_11.id]=_12[i].id;var _8={title:_12[i].title||_12[i].id,facetValueId:_12[i].id,series:[]}
_3.add(_8);for(var j=0;j<_15.length;j++){var _16=_15[j];var _17={facetValueId:_15[j].id,title:_15[j].title||_15[j].id};_8.series.add(_17);_6[_14.id]=_15[j].id;_17.record=this.getDataRecord(_6,this.multiCellData);_17.value=this.getValueFromRecord(_17.record,_6,this.multiCellData)}}}else{var _6={};for(var i=0;i<_12.length;i++){var _16=_12[i];var _17={title:_16.title||_16.id,facetValueId:_16.id};_3.add(_17);_6[_11.id]=_12[i].id;_17.record=this.getDataRecord(_6,this.multiCellData);_17.value=this.getValueFromRecord(_17.record,_6,this.multiCellData)}}
return _3},isc.A.drawData=function isc_FacetChart_drawData(){this.logDebug("drawing data","chartDraw");this.$1002();if(!this.showStatisticsOverData&&this.chartType!="Scatter"){this.$102l()}
var _1=this.$1035();if(!_1){if(this.chartType=="Column"||this.chartType=="Bar"){this.drawBars()}else if(this.chartType=="Line"||this.chartType=="Area"){this.drawLines()}else if(this.chartType=="Radar"){this.drawRadarData()}else if(this.isPieChart()){this.drawPieData()}else if(this.chartType=="Scatter"){this.drawScatterData()}else{this.logWarn("chart type: '"+this.chartType+"' not supported")}}else{var _2=this.$1036(),_3=_2.barChart,_4=_2.areaChart;_2=_2.all;var _5=1+_2.length,_6=_2.indexOf(_3),_7=_2.indexOf(_4);isc.FacetChart.$102q(_3==null||_3.chartType=="Column");isc.FacetChart.$102q(_4==null||_4.chartType=="Area"||(_4.chartType=="Line"&&_4.filled));var _8=0;for(var j=0;j<_5;++j){var _10;if(_3!=null&&j==0){--_8;_10=_3}else if(_4!=null&&j==(_3!=null?1:0)){--_8;_10=_4}else if(!(this==_3||this==_4)&&j==(_3!=null?1:0)+(_4!=null?1:0))
{--_8;_10=this}else{var k=j+_8;if(k==_6||k==_7){++_8;++k}
if(k==_6||k==_7){++_8;++k}
_10=_2[k]}
isc.FacetChart.$102q(_10==_3||_10==_4||_10.chartType=="Line");if(_10.chartType=="Column"){this.drawBars(null,null,null,_10)}else if(_10.chartType=="Line"||_10.chartType=="Area"){this.drawLines(null,null,null,_10)}}}
var _12=this.getOrderedData(),_1=this.$1035(),_2=_1&&this.$1036(),_13=1+(_1?_2.all.length:0);for(var j=0;j<_13;++j){var _10=(j==0?this:_2.all[j-1]);this.$1003(_12,_10)}
if(this.showStatisticsOverData){this.$102l()}},isc.A.drawLines=function isc_FacetChart_drawLines(_1,_2,_3,_4){_4=_4||this;_1=_1||this.getChartRect();_3=_3||this.getOrderedData();var _5=_4.chartType=="Radar",_6=this.isStacked(_4),_7=this.isFilled(_4);isc.FacetChart.$102q(!_5||_4==this);var _8=(_4!=this),_9;if(_8){_9=_4.$103o}
isc.FacetChart.$102q(!_8||this.$1035());if(this.isMultiFacet()&&(!_8||_4.isMultiFacet())){var _10=Math.round(360/this.getDataLabelFacet().values.length),_11=this.getChartCenter();var _12=null,_13=null;for(var i=0;i<_3[0].series.length;i++){var _15=_3.getProperty("series").getProperty(i),_16=_15.getProperty("record"),_17=_8?_16.getProperty(_9):_15.getProperty("value");if(_6){_17=this.addValues(_17,_13);_13=_17}
var _18=(_5?this.getRadarPoints(_1,_17):this.getPoints(_1,_17,_4)),_19=_18;for(var j=0;j<_3.length;j++){if(_17[j]!=null&&!isNaN(_17[j])){var _21=this.$1040(_4,j,i);_21.drawnX=_18[j][0];_21.drawnY=_18[j][1]}}
var _22=_4.getDataColor(i);var _23={lineColor:_22};this.drawDataLine(_18,_23,_4);if(_7){if(_12==null||!_6){_12=_5?[]:this.getBasePoints(_18)}
_19=_18.concat(_12.duplicate().reverse());_12=_18;var _24=this.useAutoGradients&&!this.isVML;if(_4.chartType=="Area"||_4.chartType=="Line"){this.drawDataShape(_19,{lineColor:_22,fillColor:!_24?_22:null,fillGradient:_24?_4.getDataGradient(i):null})}else if(_4.chartType=="Radar"){var _25=this.$112i(_19,{lineColor:_22,fillColor:!_24?_22:null,fillGradient:null},this.connected);if(_24){_25.fillGradient=this.getRadarShapeGradient(_22,_25,_11,i==0)}
_25.draw()}}
if(_4.showDataPoints){this.drawPoints(_18,_16,i,_17,_4)}
if(this.lowErrorMetric!=null&&_4==this){this.drawErrorBars(_18,_16,i,_2,_1)}
if(i==0&&!_5&&_4==this){this.drawDataLabels(_18.getProperty("0"),_3.getProperty("title"))}}}else{var _16,_26=null;if(_8){if(this.isMultiFacet()){isc.FacetChart.$102q(!_4.isMultiFacet());var _27=this.$103u(_4);_26=this.getLegendFacet().values.findIndex("id",_27.id);isc.FacetChart.$102q(_26!=-1);var _15=_3.getProperty("series").getProperty(_26);_16=_15.getProperty("record")}else{_16=_3.getProperty("record")}}
var _17=(_8?_16.getProperty(_9):_3.getProperty("value"));var _18=_5?this.getRadarPoints(_1,_17):this.getPoints(_1,_17,_4),_19=_18,_22=_4.getDataColor(0);this.drawDataLine(_18,{lineColor:_22},_4);for(var j=0;j<_3.length;j++){if(_17[j]!=null&&!isNaN(_17[j])){var _21=this.$1040(_4,j,_26);_21.drawnX=_18[j][0];_21.drawnY=_18[j][1]}}
if(_7){var _28;if(this.useAutoGradients){_28=_4.getDataGradient(0)}
_19=_18.concat(this.getBasePoints(_18).reverse());this.drawDataShape(_19,{lineColor:_22,fillColor:!this.useAutoGradients?_22:null,fillGradient:this.useAutoGradients?_28:null})}
if(_4.showDataPoints){if(!_8){_16=_3.getProperty("record")}
this.drawPoints(_18,_16,0,_17,_4)}
if(!_5&&_4==this){this.drawDataLabels(_18.getProperty("0"),_3.getProperty("title"))}}},isc.A.getBasePoints=function isc_FacetChart_getBasePoints(_1){var _2=this.getChartRect();var _3=[];for(var i=0;i<_1.length;i++){_3.add([_1[i][0],_2.top+_2.height])}
return _3},isc.A.addValues=function isc_FacetChart_addValues(_1,_2){if(_2==null)return _1;if(_1==null)return _2;var _3=[];for(var i=0;i<_1.length;i++){_3[i]=(_1[i]||0)+(_2[i]||0)}
return _3},isc.A.getPoints=function isc_FacetChart_getPoints(_1,_2,_3){_3=_3||this;var _4=this.$1035()?(this.$104c||0):this.dataMargin;var _5=[],_6=_4,_7=(_1.width-2*_4),_8=_2.length>1?_7/(_2.length-1):0;if(!this.supportsFractionalCoordinates()){_8=Math.floor(_8);var _9=_7-(_8*(_2.length-1));_6+=Math.floor(_9/2)}
for(var i=0;i<_2.length;i++){var _11=_2[i],_12=(_11==null||isNaN(_11));if(_11==null)_11=0;var _13=[_1.left+_6,this.getYCoord(_11,_3)];if(_12){_13.$111s=true}
_5.add(_13);_6+=_8}
return _5},isc.A.drawPoints=function isc_FacetChart_drawPoints(_1,_2,_3,_4,_5){_5=_5||this;if(!_4)_4=[];if(this.pointSizeMetric){var _6=this.getMaxValue(this.pointSizeMetric)}
var _7=_5.dataPointSize;for(var i=0;i<_1.length;i++){var _9=_2[i];if(this.pointSizeMetric){var _6=this.$1034(false);var _10=_9[this.pointSizeMetric];_7=Math.max(this.minDataPointSize,Math.ceil((_10/_6)*this.maxDataPointSize))}
this.drawDataPoint(_1[i],_3,_7,_9,_4[i],_5)}},isc.A.drawErrorBars=function isc_FacetChart_drawErrorBars(_1,_2,_3,_4,_5){var _6=!this.supportsFractionalCoordinates(),_7=_5.top,_8=_7+_5.height,_9=isc.DrawPane.$105t(this.errorBarColorMutePercent,this.getDataColor(_3)),_10=isc.addDefaults({drawPane:this,autoDraw:true,lineColor:_9,lineWidth:1},this.errorLineProperties);for(var i=0;i<_1.length;i++){var x=_1[i][0],y=_1[i][1],_14=_2[i],_15=_14[this.highErrorMetric],_16=_14[this.lowErrorMetric];if(isNaN(_15))_15=null;if(isNaN(_16))_16=null;var _17=_15!=null&&this.getYCoord(_15),_18=_16!=null&&this.getYCoord(_16);if(_15==null&&_16==null){continue}
var _19=(_15!=null&&_16!=null);if(!(_7<=_17&&_17<=_8)){_17=Math.max(_7,Math.min(_8,_17));_15=null}
if(!(_7<=_18&&_18<=_8)){_18=Math.max(_7,Math.min(_8,_18));_16=null}
if(_19){isc.DrawLine.create(_10,{startLeft:x,startTop:_17,endLeft:x,endTop:_18})}
var _20=x-this.errorBarWidth/2,_21=x+this.errorBarWidth/2;if(_6){_20=Math.round(_20);_21=Math.round(_21)}
if(_15!=null){isc.DrawLine.create(_10,{startLeft:_20,startTop:_17,endLeft:_21,endTop:_17})}
if(_16!=null){isc.DrawLine.create(_10,{startLeft:_20,startTop:_18,endLeft:_21,endTop:_18})}}},isc.A.drawDataLabels=function isc_FacetChart_drawDataLabels(_1,_2,_3){for(var i=0;i<_1.length;i++){this.drawDataLabel(_1[i],_2[i],_3)}},isc.A.getRotatedCenteringOffset=function isc_FacetChart_getRotatedCenteringOffset(_1){if(this.drawingType=="vml"){return-Math.floor(_1/2)}else{return Math.floor(_1/2)}},isc.A.drawDataLabel=function isc_FacetChart_drawDataLabel(_1,_2,_3){if(_3==null)_3=true;var _4=this.getDataLabelHeight();if(_3){var _5=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;var _6=_1;if(this.autoRotateLabels){_6+=this.getRotatedCenteringOffset(_4)}else{var _7=this.measureLabel(_2,this.dataLabelProperties);_6=_6-(_7.width/2)}
this.drawLabel(_6,_5,_2,this.dataLabelProperties,this.autoRotateLabels,true)}else{var _4=this.getDataLabelHeight();this.drawLabel(this.getAxisLabelSpace(true),_1-Math.round(_4/2),_2,this.dataLabelProperties)}},isc.A.drawBars=function isc_FacetChart_drawBars(_1,_2,_3,_4){_4=_4||this;_1=_1||this.getChartRect();_3=_3||this.getOrderedData();_2=_2||this.getMaxGradation(_4);var _5=_4.isMultiFacet()&&this.isStacked(_4);var _6=_4.isMultiFacet()&&!this.isStacked(_4);var _7=(_4.chartType=="Column");var _8=this.dataMargin;var _9=_4.isMultiFacet()?_3[0].series.length:1;var _10=_9;var _11=_3.length;var _12=_6?_11*_10:_3.length;var _13=(_7?_1.width:_1.height)-(2*_8);var _14=!_6?this.barMargin:Math.min(50,Math.round(this.barMargin*this.clusterMarginRatio));var _15=(_12*this.barMargin)+(_6?_11*_14:0);var _16=Math.max(0,_13-_15);var _17=Math.floor(_16/_12);if(_17<this.minBarThickness){_17=this.minBarThickness}else if(_17>this.maxBarThickness){_17=this.maxBarThickness}
var _18=_6?((_17+this.barMargin)*_10-this.barMargin):_17;var _19=_3.length<2?0:Math.round((_13-(_3.length*_18))/(_3.length-1));var _20;if(_6){var _21=Math.max(0,this.clusterMarginRatio);var _22=_3.length;if(_10>1&&_22>1){var m=-_22*(_10-1)/(_22-1),b=(_13-_22*_17*_10)/(_22-1);_20=Math.max(0,b/(_21-m));if(Math.abs(Math.floor(_20)*(_21-m)-b)<
Math.abs(Math.ceil(_20)*(_21-m)-b))
{_20=Math.floor(_20)}else{_20=Math.ceil(_20)}}else if(_10<=1){_20=0}else{_20=this.barMargin}
_18=(_17+_20)*_10-_20;_19=_3.length<2?0:Math.round((_13-(_3.length*_18))/(_3.length-1))}
var _25=_18+_19;var _26=_13-(_18*_3.length)
-(_19*(_3.length-1));_8+=Math.round(_26/2);if(this.logIsDebugEnabled("chartDraw")&&_4==this){this.logDebug("availableSpace: "+_13+", availableBarSpace: "+_16+", bars per cluster: "+_10+", final gap between clusters/bars: "+_19+", final within-cluster bar margin: "+_20+", barThickness: "+_17+", extraSpace: "+_17,"chartDraw")}
_14=_5?0:_14;var _27=(_7?_1.left:_1.top)+_8;if(this.$1035()){var _28=_18/2;this.$104c=_8+_28}
var _29=(_4!=this),_30;if(_29){_30=_4.$103o}
isc.FacetChart.$102q(!_29||(this.$1035()&&_7));if(this.isMultiFacet()&&(!_29||_4.isMultiFacet())){for(var i=0;i<_3.length;i++){var _32=0;for(var j=0;j<_3[i].series.length;j++){var _34=_27+(i*_25);if(_6)_34+=(j*(_17+_20));var _35=_3[i].series[j],_36=_29?_35.record[_30]:_35.value;_43=this.getValueCoord(_32,_7,_4),_45=this.getValueCoord(_32+_36,_7,_4)-_43;if(_5&&_35.value)_32+=_36;var _37=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_37.fillColor=_4.getDataColor(j)}else{_37.fillGradient=_4.getDataGradient(j)}
var _38=this.drawBar(_7,_34,_43,_17,_45,_37);_35=this.$1040(_4,i,j);if(_7){_35.drawnX=_34+_17/2;_35.drawnY=_43+_45}else{_35.drawnY=_34+_17/2;_35.drawnX=_43+_45}
_35.barThickness=_17;_35.drawItemId=_38.ID}
if(_4==this){var _34=_27+(i*_25);var _39=_34+Math.floor(_18/2);this.drawDataLabel(_39,_3[i].title,_7)}}}else{var _40,_41=null;if(_29){if(this.isMultiFacet()){isc.FacetChart.$102q(!_4.isMultiFacet());var _42=this.$103u(_4);_41=this.getLegendFacet().values.findIndex("id",_42.id);isc.FacetChart.$102q(_41!=-1);_40=_3.getProperty("series").getProperty(_41).getProperty("record")}else{_40=_3.getProperty("record")}}
var _43=this.getValueCoord(0,_7,_4);for(var i=0;i<_3.length;i++){var _34=(i*_25)+_27,_44=(_29?_40[i][_30]:_3[i].value),_45=this.getValueCoord(_44,_7,_4)-_43;var _37=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_37.fillColor=_4.getDataColor(i)}else{_37.fillGradient=_4.getDataGradient(i)}
var _38=this.drawBar(_7,_34,_43,_17,_45,_37);var _35=this.$1040(_4,i,_41);if(_7){_35.drawnX=_34+_17/2;_35.drawnY=_43+_45}else{_35.drawnY=_34+_17/2;_35.drawnX=_43+_45}
_35.barThickness=_17;_35.drawItemId=_38.ID;if(_4==this){this.drawDataLabel(Math.round(_34+(_17/2)),_3[i].title,_7)}}}},isc.A.$1041=function isc_FacetChart__getShowDataValues(_1){_1=_1||this;var _2=_1.chartType!="Scatter"&&_1.showDataValues&&!(!_1.$101c&&_1.$101d);if(this.$1035()){var _3=this.$1036(),_4=1+_3.all.length;for(var j=0;_2&&j<_4;++j){var c=(j==0?this:_3.all[j-1]);if(c==_1){break}else{_2=!(c.showDataValues&&!(!c.$101c&&c.$101d))}}}
return _2},isc.A.$1042=function isc_FacetChart__getShowValueOnHover(_1){_1=_1||this;return _1.chartType!="Scatter"&&!this.$1041(_1)&&(_1.showValueOnHover||(_1.showValueOnHover!==false&&_1.showDataValues&&!(_1.$101c&&!_1.$101d)))},isc.A.$1043=function isc_FacetChart__getShowValueOnHoverContext(){if(this.$1035()){var _1=this.$1036().all,_2=1+_1.length;for(var j=0;j<_2;++j){var _4=(j==0?this:_1[j-1]);if(this.$1042(_4)){return _4}}}else if(this.$1042()){return this}
return null},isc.A.$1003=function isc_FacetChart__drawDataValueLabels(_1,_2){isc.FacetChart.$102q(_1===this.getOrderedData());_2=_2||this;if(this.$1041(_2)){var _3={},_4=(_2!=this),_5=_2.isMultiFacet(),_6,_7,_8;if(_4){_6=_2.$103o;if(!_5){if(this.isMultiFacet()){var _9=this.$103u(_2);_8=this.getLegendFacet().values.findIndex("id",_9.id);isc.FacetChart.$102q(_8!=-1);_7=_1.getProperty("series").getProperty(_8).getProperty("record")}else{_7=_1.getProperty("record")}}}
isc.FacetChart.$102q(!_4||(this.$1035()&&(_2.chartType=="Area"||_2.chartType=="Line"||_2.chartType=="Column")));switch(_2.chartType){case"Area":case"Line":if(this.isMultiFacet()&&(!_4||_2.isMultiFacet())){var _10=0;for(var i=0;i<_1.length;i++){var _12=_10;_10=0;for(var j=0;j<_1[i].series.length;j++){var _14=_1[i].series[j],_15=_4?_14.record[_6]:_14.value;if(_15==null||isNaN(_15))continue;var _16=this.$104t(_3,i,j,_2,_15);_10=Math.max(_10,_16.width);if(_12>0){var _17=this.$1040(_2,i,j).drawnX
-this.$1040(_2,i-1,0).drawnX
-_12;if(_17<20){_2.$101d=true;delete _2.$101c;return}}
for(var k=j+1;k<_1[i].series.length;k++){var _14=_1[i].series[k],_15=_4?_14.record[_6]:_14.value;if(_15==null||isNaN(_15))continue;var _19=Math.abs(this.$1040(_2,i,k).drawnY
-this.$1040(_2,i,j).drawnY);_19-=_16.height;if(_19<5){_2.$101d=true;delete _2.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){var _21=this.$1040(_2,i,j);this.$1004(_21.drawnX,_21.drawnY,_20)}}}}else{var k=!_5?_8:null;for(var j=1;j<_1.length;j++){var _15=_4?_7[j][_6]:_1[j].value;if(_15==null||isNaN(_15))continue;var _16=this.$104t(_3,j-1,null,_2,_4?_7[j-1][_6]:_1[j-1].value);var _17=this.$1040(_2,j,k).drawnX
-this.$1040(_2,j-1,k).drawnX
-_16.width;if(_17<20){_2.$101d=true;delete _2.$101c;return}}
this.$104t(_3,_1.length-1,null,_2,_4?_7[_1.length-1][_6]:_1[_1.length-1].value);for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){var _21=this.$1040(_2,j,k);this.$1004(_21.drawnX,_21.drawnY,_20)}}}
break;case"Radar":if(this.isMultiFacet()){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){if(_1[i].series[j].value==null||isNaN(_1[i].series[j].value))continue;var _16=this.$104t(_3,i,j,_2,_1[i].series[j].value);var _22=Math.sqrt(_16.width*_16.width+_16.height*_16.height);for(var _23=i;_23<_1.length;_23++){for(var _24=(_23==i)?j+1:0;_24<_1[_23].series.length;_24++){if(_1[_23].series[_24].value==null||isNaN(_1[_23].series[_24].value))continue;var _25=this.$104t(_3,_23,_24,_2,_1[_23].series[_24].value);var _26=Math.sqrt(_25.width*_25.width+_25.height*_25.height);var _17=_1[i].series[j].drawnX-_1[_23].series[_24].drawnX;var _19=_1[i].series[j].drawnY-_1[_23].series[_24].drawnY;var _27=Math.sqrt(_17*_17+_19*_19);_27-=(_22+_26)/2;if(_27<=0){this.$101d=true;delete this.$101c;return}}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){isc.FacetChart.$102q(!(_1[i].series[j].value==null||isNaN(_1[i].series[j].value)));this.$1004(_1[i].series[j].drawnX,_1[i].series[j].drawnY,_20)}}}}else{for(var j=0;j<_1.length;j++){if(_1[j].value==null||isNaN(_1[j].value))continue;var _16=this.$104t(_3,j,null,_2,_1[j].value);var _22=Math.sqrt(_16.width*_16.width+_16.height*_16.height);for(var _24=j+1;_24<_1.length;_24++){if(_1[_24].value==null||isNaN(_1[_24].value))continue;var _25=this.$104t(_3,_24,null,_2,_1[_24].value);var _26=Math.sqrt(_25.width*_25.width+_25.height*_25.height);var _17=_1[j].drawnX-_1[_24].drawnX;var _19=_1[j].drawnY-_1[_24].drawnY;var _27=Math.sqrt(_17*_17+_19*_19);_27-=(_22+_26)/2;if(_27<=0){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){isc.FacetChart.$102q(!(_1[j].value==null||isNaN(_1[j].value)));this.$1004(_1[j].drawnX,_1[j].drawnY,_20)}}}
break;case"Bar":case"Column":if(this.isMultiFacet()&&(!_4||_2.isMultiFacet())){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _14=_1[i].series[j],_15=_4?_14.record[_6]:_14.value;if(_15==null||isNaN(_15))continue;var _28=window[this.$1040(_2,i,j).drawItemId];var _16=this.$104t(_3,i,j,_2,_15);var _19=_28.height-_16.height;var _17=_28.width-_16.width;if(_19<5||_17<10){_2.$101d=true;delete _2.$101c;return}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){var _29=this.$1040(_2,i,j);this.$1005(_29.drawnX,_29.drawnY,_20,_2.chartType)}}}}else{var k=!_5?_8:null;for(var j=0;j<_1.length;j++){var _15=_4?_7[j][_6]:_1[j].value;if(_15==null||isNaN(_15))continue;var _20=this.$104t(_3,j,null,_2,_15),_29=this.$1040(_2,j,k);this.$1005(_29.drawnX,_29.drawnY,_20,_2.chartType)}}
break;case"Doughnut":case"Pie":var _30=_1[0].radiusStep;if(_30<40){this.$101d=true;delete this.$101c;return}
if(this.isMultiFacet()){var _31=_30*2/3;for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];if(s.value==null||isNaN(s.value))continue;var _16=this.$104t(_3,i,j,_2,s.value);var _33=s.pieRadius-Math.max(_31,_16.width+15);var _34=s.endAngle-s.startAngle;if(_34<60){var _35=2*_33*Math.tan(_34*Math.PI/180);if(_16.width>_35){this.$101d=true;delete this.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];var _20=this.$104t(_3,i,j);if(_20!=null){isc.FacetChart.$102q(!(s.value==null||isNaN(s.value)));var _33=s.pieRadius-Math.max(_31,_20.width+15);this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_20,_33)}}}}else{for(var j=0;j<_1.length;j++){var s=_1[j];if(s.value==null||isNaN(s.value))continue;var _33=s.pieRadius/2-(this.doughnutSize==null?0:this.doughnutSize);var _34=s.endAngle-s.startAngle;if(_34<60){var _35=2*_33*Math.tan(_34*Math.PI/180);var _16=this.$104t(_3,j,null,_2,s.value);if(_16.width>_35){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){isc.FacetChart.$102q(!(_1[j].value==null||isNaN(_1[j].value)));var s=_1[j];this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_20,_1[j].pieRadius/2)}}}
break}}});isc.evalBoundary;isc.B.push(isc.A.$1005=function isc_FacetChart__drawDataValueLabelForBar(_1,_2,_3,_4){if((_4||this.chartType)=="Column"){_1-=_3.width/2;_2-=_3.height}else{_2-=_3.height/2;_1+=4}
if(_1<0){_1=0}else if((_1+_3.width)>this.getWidth()){_1=this.getWidth()-_3.width-4}
if(_2<0){_2=0}else if((_2+_3.height)>this.getHeight()){_2=this.getHeight()-_3.height-4}
this.drawLabel(_1,_2,_3.text,this.hoverLabelProperties)},isc.A.$1004=function isc_FacetChart__drawDataValueLabelForPoint(_1,_2,_3){var _4=_1-_3.width/2;var _5=_2-_3.height-4;if(_4<0){_4=0}else if((_4+_3.width)>this.getWidth()){_4=this.getWidth()-_3.width-4}
if(_5<0){_5=0}else if((_5+_3.height)>this.getHeight()){_5=this.getHeight()-_3.height-4}
this.drawLabel(_4,_5,_3.text,this.hoverLabelProperties)},isc.A.$1006=function isc_FacetChart__drawDataValueLabelForPie(_1,_2,_3,_4,_5,_6){var _7=(_3+_4)/2+90;if(_7<0){_7+=360}
var _8=this.$100k([_1,_2],_6||this.maxRadius,_7,_5.value,this.hoverLabelProperties);_1=_8[0];_2=_8[1];if(_1<0){_1=0}else if((_1+_5.width)>this.getWidth()){_1=this.getWidth()-_5.width-4}
if(_2<0){_2=0}else if((_2+_5.height)>this.getHeight()){_2=this.getHeight()-_5.height-4}
this.drawLabel(_1,_2,_5.text,this.hoverLabelProperties)},isc.A.drawBar=function isc_FacetChart_drawBar(_1,_2,_3,_4,_5,_6){if(!_1){return this.drawBar(!_1,_3,_2,_5,_4,_6)}
return this.drawRect(_2,_5>0?_3:_3+_5,_4,Math.abs(_5),_6)},isc.A.drawRect=function isc_FacetChart_drawRect(_1,_2,_3,_4,_5){var _6=isc.DrawRect.create(_5,{autoDraw:true,drawPane:this,left:_1,top:_2,width:_3,height:_4});return _6},isc.A.drawDataSeriesLine=function isc_FacetChart_drawDataSeriesLine(_1,_2){this.drawDataLine(_1,{lineColor:this.getDataColor(_2)})},isc.A.$112i=function isc_FacetChart__getDataShape(_1,_2,_3){var _4=(_3?"DrawPolygon":"DrawPath");var _5=this.dataShapeProperties;if(!this.hasShadows)_5.shadow=null;var _6=isc[_4].create(_5,_2,{drawPane:this,points:_1,autoDraw:false});return _6},isc.A.drawDataShape=function isc_FacetChart_drawDataShape(_1,_2,_3){var _4=this.$112i(_1,_2,_3);_4.draw();return _4},isc.A.drawDataLine=function isc_FacetChart_drawDataLine(_1,_2,_3){if(!this.discontinuousLines){var _4=[];for(var i=0;i<_1.length;i++){if(!(isNaN(_1[i][1])||_1[i].$111s===true)){_4.add(_1[i])}}
return this.drawDataLineSegment(_4,0,_4.length,_2,_3)}
var _6,_7;for(var i=0;i<_1.length;i++){var _8=_1[i];if(isNaN(_8[1])||_8.$111s===true){if(_6!=null){_7=this.drawDataLineSegment(_1,_6,i,_2,_3);_6=null}}else if(_6==null){_6=i}}
if(_6!=null){_7=this.drawDataLineSegment(_1,_6,_1.length,_2,_3)}
return _7},isc.A.drawDataLineSegment=function isc_FacetChart_drawDataLineSegment(_1,_2,_3,_4,_5){_5=_5||this;var _6=this.isFilled(_5)?_5.dataOutlineProperties:_5.dataLineProperties;if(!this.hasShadows)_6.shadow=null;_1=_1.slice(_2,_3);if(_1.length==1){isc.DrawTriangle.create(_6,_4,{drawPane:this,points:this.getTriangleOnPoint(_1[0],this.singlePointMarkerSize),autoDraw:true,fillColor:(_4&&_4.lineColor)||_6.lineColor})}else if(_1.length>0){var _7={drawPane:this,points:_1,autoDraw:true};if(_5.chartType=="Line")_7.svgFilter="isc_ds1";return isc.DrawPath.create(_6,_4,_7)}},isc.A.drawValueLine=function isc_FacetChart_drawValueLine(_1,_2,_3){var _4={drawPane:this,autoDraw:true};if(_1!=null){_4.startLeft=_1[0];_4.startTop=_1[1]}
if(_2!=null){_4.endLeft=_2[0];_4.endTop=_2[1]}
isc.DrawLine.create(this.valueLineProperties,_3,_4)},isc.A.drawPieData=function isc_FacetChart_drawPieData(){var _1=this.getChartRect(),_2=this.getChartCenter(),_3=Math.min(_1.width,_1.height)/2-(this.getChartRectLineWidth()*2),_4=this.getOrderedData(),_5=(this.shouldShowDoughnut()?(_3*this.doughnutRatio):0);var _6=20;if(this.isMultiFacet()){var _7=_4.length;if(this.stacked){_3=this.getChartRadius()}
var _8=_3-_5,_9=_8/_7,_10=360/_7;_4[0].radiusStep=_9;var _11=Math.ceil(Math.sqrt((_1.width/_1.height)*_7)),_12=Math.ceil(_7/_11),_13=_7%_11==0?_11:_7%_11;if(_13<_11&&(_12-1)<=(_11-1-_13)){_11-=1;_13+=(_12-1)}
var _14=Math.min(_1.width/_11,_1.height/_12),_15=(_14-_6)/2,_16=(_1.width-(_11*_14))/2,_17=(_1.width-(_13*_14))/2;for(var i=0;i<_7;i++){var _19=_4[i].series,_20=_19.getProperty("value"),_21=_20.sum(),_22=_4[i].title;if(this.stacked){var _23=_3-(_9*i);this.drawPieSeries(_20,_21,_2,_23,i,(i!=0));var _24=this.pieLabelAngleStart+(_10*i);this.drawRadialLabel(_2,_3+this.pieLabelLineExtent,_24,_22);var _25=isc.GraphMath.polar2screen(_24,_23-(_9/2),_2,true),_26=isc.GraphMath.polar2screen(_24,_3+this.pieLabelLineExtent,_2,true);this.drawValueLine(_25,_26,this.pieLabelLineProperties)}else{var _27=Math.floor(i/_11);var _28=_1.top+(_27*_14);var _29=_1.left+((i%_11)*_14);if(_27==_12-1)_29+=_17;else _29+=_16;var _30=[_29+(_6/2)+_15,_28+_6+_15];this.drawPieSeries(_20,_21,_30,_15,i);if(this.shouldShowDoughnut()){isc.DrawOval.create({shadow:this.hasShadows?{blur:5,color:"#333333",offset:[0,0]}:null},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_30,radius:_15*this.doughnutRatio})}
var _31=this.measureLabel(_22,this.dataLabelProperties);this.drawLabel(_29+(_14/2)-(_31.width/2),_28+(_6/2)-(_31.height/2),_22,this.dataLabelProperties)}}}else{var _20=_4.getProperty("value"),_21=_20.sum();this.drawPieSeries(_20,_21,_2,_3,0,false)}
if(this.shouldShowDoughnut()&&(!this.isMultiFacet()||this.stacked)){isc.DrawOval.create({shadow:this.hasShadows?{blur:5,color:"#333333",offset:[0,0]}:null},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_2,radius:_5})}},isc.A.drawPieSeries=function isc_FacetChart_drawPieSeries(_1,_2,_3,_4,_5,_6){if(this.showShadows&&this.hasShadows&&!_6){isc.DrawOval.create({shadow:{blur:8,color:"#111111",offset:[2,2]}},this.pieBorderProperties,this.shadowProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
if(this.$101d||this.$101c){isc.DrawOval.create({fillColor:"#ffffff"},this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
var _7=0;var _8=this.getOrderedData();for(var i=0;i<_1.length;i++){var _10=_1[i],_11=(_10/_2)*360;var _12={drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,startAngle:Math.floor(_7),endAngle:Math.ceil(_7+_11),fillColor:!this.useAutoGradients?this.getDataColor(i):null,fillGradient:this.useAutoGradients?this.$985(i,_3,_4):null};var _13=(_8[_5].series==null?_8[i]:_8[_5].series[i]);_13.pieX=_3[0];_13.pieY=_3[1];_13.startAngle=_12.startAngle;_13.endAngle=_12.endAngle;_13.pieRadius=_4;if(this.useAutoGradients&&this.drawingType!="svg"){_12.svgFillGradient=this.$985(i,_3,_4,false,"svg")}
var _14=isc.$983.create(this.pieSliceProperties,_12);_13.drawItemId=_14.ID;_7+=_11}
if(_6){isc.DrawOval.create(_6?this.pieRingBorderProperties:this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4})}},isc.A.getYAxisMetric=function isc_FacetChart_getYAxisMetric(){return this.yAxisMetric||this.metricFacet.values[0].id},isc.A.getXAxisMetric=function isc_FacetChart_getXAxisMetric(){return this.xAxisMetric||this.metricFacet.values[1].id},isc.A.getSecondGradations=function isc_FacetChart_getSecondGradations(){var _1=this.getXAxisMetric(),_2=this.getMaxValue(_1),_3=this.getMinValue(_1);var _4=Math.max(150,this.getInnerContentWidth()-(2*this.chartRectMargin)-300);return this.$914(_2,_3,true,false,_4)},isc.A.drawScatterData=function isc_FacetChart_drawScatterData(){var _1=this.getXAxisMetric(),_2=Math.min(0,this.getMinValue(_1)),_3=this.getMaxValue(_1),_4=0,_5=this.getGradations().last();var _6=this.getSecondGradations();this.drawGradations(false,_6);if(!this.showStatisticsOverData){this.$102l()}
for(var i=0;i<_6.length;i++){var _8=this.getXCoord(_6[i],_6,false);this.drawDataLabel(_8,this.formatAxisValue(_6[i]))}
var _9=this.getOrderedData(),_10=this.getLegendFacet();if(_10==null){this.drawScatterSeries(_9,0,_2,_3,_4,_5)}else{for(var i=0;i<_10.values.length;i++){this.drawScatterSeries(_9[i].series,i,_2,_3,_4,_5)}}},isc.A.drawScatterSeries=function isc_FacetChart_drawScatterSeries(_1,_2,_3,_4,_5,_6){var _7=this.getChartRect(),_8=this.getSecondGradations(),_9=this.getXAxisMetric(),_10=this.getYAxisMetric(),_11=[],_12=[];for(var i=0;i<_1.length;i++){var _14=_1[i].record,_15=_14[_9],_16=_14[_10],_17=this.getXCoord(_15,_8,false),_18=this.getYCoord(_16);_1[i].drawnX=_17;_1[i].drawnY=_18;_11.add([_17,_18]);_12.add(_16)}
if(this.showScatterLines){this.drawDataSeriesLine(_11,_2)}
this.drawPoints(_11,_1,_2,_12);if(this.lowErrorMetric!=null){this.drawErrorBars(_11,_1,_2,_6,_7)}},isc.A.$102m=function isc_FacetChart__getProbabilityMetric(){var _1=this.probabilityMetric,_2=this.metricFacet;return(_1!=null&&_2!=null&&_2.values.findIndex("id",_1)!=-1?_1:null)},isc.A.$102n=function isc_FacetChart__getStatCache(_1){if(_1==null){_1=this.getDefaultMetric()}
if(isc.isA.String(_1)&&this.metricFacet!=null&&this.metricFacet.values.findIndex("id",_1)!=-1){var _2=_1;_1={};_1[this.metricFacet.id]=_2}else{_1={}}
var _3=this.$102k||(this.$102k=this.facets.getProperty("id"));var _4=isc.StringBuffer.newInstance();for(var i=0,_6=_3.length;i<_6;++i){var _7=_3[i];if(_1[_7]!=null){_4.append(_7,"=",_1[_7].toString(),";")}}
var _8=this.$102o||(this.$102o={}),_9=_4.toString();if(_8[_9]==null){_8[_9]={criteria:_1}}
return _8[_9]},isc.A.$102p=function isc_FacetChart__getDataArray(_1,_2){isc.FacetChart.$102q(this.$102n(_1)===_2);return(_2.data||(_2.data=this.getValue(_2.criteria,true)))},isc.A.$102r=function isc_FacetChart__getProbabilities(_1,_2,_3){isc.FacetChart.$102q(this.$102n(_1)===_2);isc.FacetChart.$102q(_3==this.$102m()&&_3!=null);if(_2.probabilities!=null){return _2.probabilities}
_1=_2.criteria;var c=isc.addProperties({},_1);c[this.metricFacet.id]=_3;var _5=this.getValue(c,true);var n=_5.length,_7=0;for(var i=n;i--;){var p=_5[i];if(!(isc.isA.Number(p)&&p>=0)){_5[i]=0}else{_7+=p}}
if(_7!=1){if(_7==0){var _10=1/n;for(var i=n;i--;){_5[i]=_10}}else{for(var i=n;i--;){_5[i]/=_7}}}
isc.FacetChart.$102q(Math.abs(_5.sum()-1)<Math.pow(10,-6));return(_2.probabilities=_5)},isc.A.$102s=function isc_FacetChart__getSortedDataIndex(_1){var _2=this.$102n(_1);if(_2.sortedDataIndex!=null){return _2.sortedDataIndex}else{var _3=this.$102p(_1,_2),_4=new Array(_3.length);for(var i=_3.length;i--;){_4[i]=i}
_4.sort(function(i,_6){return _3[i]-_3[_6]});return(_2.sortedDataIndex=_4)}},isc.A.getNumDataPoints=function isc_FacetChart_getNumDataPoints(_1){var _2=this.$102n(_1),_3=this.$102p(_1,_2);return _3.length},isc.A.getMean=function isc_FacetChart_getMean(_1){var _2=this.$102n(_1);if(_2.mean!=null){return _2.mean}
var _3=this.$102p(_1,_2),_4=this.$102m(),_5;if(_4==null){_5=isc.Chart.$102g(_3)}else{var _6=this.$102r(_1,_2,_4);isc.FacetChart.$102q(_3.length==_6.length);_5=0;for(var i=_3.length;i--;){_5+=_3[i]*_6[i]}}
return(_2.mean=_5)},isc.A.$102t=function isc_FacetChart__numberSortOrder(_1,_2){return _1-_2},isc.A.getMedian=function isc_FacetChart_getMedian(_1){return this.getPercentile(_1,50)},isc.A.getPercentile=function isc_FacetChart_getPercentile(_1,_2){if(!isc.isA.Number(_2)){return null}
_2=Math.max(0,Math.min(100,_2));var _3="percentile("+_2+")";_2/=100;var _4=this.$102n(_1);if(_4[_3]!=null){return _4[_3]}
var _5=this.$102p(_1,_4),_6=this.$102m(),_7=_5.length;var i,j,_10,_11;if(_6==null){var _12=_4.sortedData||(_4.sortedData=_5.sort(this.$102t));i=Math.floor(_2*(_7-1));j=Math.ceil(_2*(_7-1));_10=_12[i];_11=_12[j]}else{var _13=this.$102s(_1),_14=this.$102r(_1,_4,_6),_15=0;for(j=0;j<_7&&_15<_2;++j){_15+=_14[_13[j]]}
--j;_11=_5[_13[j]];for(i=j;i<_7&&_14[_13[i]]==0;){++i}
if(i==_7)--i;for(_15=1-_15;i>=0&&_15<1-_2;--i){_15+=_14[_13[i]]}
++i;_10=_5[_13[i]]}
isc.FacetChart.$102q(!(i<0||i>=_7));isc.FacetChart.$102q(!(j<0||j>=_7));return(_4[_3]=(_10+_11)/2)},isc.A.getRange=function isc_FacetChart_getRange(_1){var _2=this.getMax(_1),_3=this.getMin(_1);return(_2==null||_3==null?null:_2-_3)},isc.A.getStdDev=function isc_FacetChart_getStdDev(_1,_2){return Math.sqrt(this.getVariance(_1,_2))},isc.A.getVariance=function isc_FacetChart_getVariance(_1,_2){var _3=this.$102n(_1),_4=(_2?"population":"sample")+"Variance",_5=(!_2?"population":"sample")+"Variance";if(_3[_4]!=null){return _3[_4]}else if(_3[_5]!=null){var n=_3.data.length;return(_3[_4]=_3[_5]*(_2?(n-1)/n:n/(n-1)))}
var _7=this.$102p(_1,_3),_8=this.$102m(),_9=this.getMean(_1),n=_7.length,_10;if(_8==null){_10=isc.Chart.$102h(_7,_2,_9)}else{var _11=this.$102r(_1,_3,_8);isc.FacetChart.$102q(_7.length==_11.length);var _12=0;for(var i=_7.length;i--;){var t=_7[i];_12+=t*t*_11[i]}
_10=_12-_9*_9;if(!_2){_10*=n/(n-1)}}
return(_3[_4]=_10)},isc.A.getMax=function isc_FacetChart_getMax(_1){var _2=this.$102n(_1);if(_2.max!=null){return _2.max}else if(_2.sortedData!=null){return(_2.max=_2.sortedData.last())}else{var _3=this.$102p(_1,_2);return(_2.max=_3.max())}},isc.A.getMin=function isc_FacetChart_getMin(_1){var _2=this.$102n(_1);if(_2.min!=null){return _2.min}else if(_2.sortedData!=null){return(_2.min=_2.sortedData.first())}else{var _3=this.$102p(_1,_2);return(_2.min=_3.min())}},isc.A.getSimpleLinearRegressionFunction=function isc_FacetChart_getSimpleLinearRegressionFunction(_1,_2){return this.getPolynomialRegressionFunction(1,_1,_2,"FacetChart.getSimpleLinearRegressionFunction()")},isc.A.$102u=function isc_FacetChart__validatePolynomialDegree(_1){return isc.isA.Number(_1)&&_1>0&&Math.round(_1)===_1},isc.A.getPolynomialRegressionFunction=function isc_FacetChart_getPolynomialRegressionFunction(_1,_2,_3,_4){_4=isc.isA.String(_4)?_4:"FacetChart.getPolynomialRegressionFunction()";if(!this.$102u(_1)){if(_1!=null){this.logWarn("Invalid degree argument passed to "+_4+".  The degree must be a positive integer.")}
_1=this.regressionPolynomialDegree;if(!this.$102u(_1)){this.logWarn("The regressionPolynomialDegree property of the FacetChart is invalid.  The degree must be a positive integer.");return null}}
var _5=this.metricFacet.id,_6,_7;if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){if(_2!=null){this.logWarn("Invalid xMetric argument passed to "+_4+".  The xMetric must be the String ID of a metric facet value.")}
_2=this.getXAxisMetric();if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){this.logWarn("Could not find an x-axis metric defined for the FacetChart.");return null}}
if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){if(_3!=null){this.logWarn("Invalid yMetric argument passed to "+_4+".  The yMetric must be the String ID of a metric facet value.")}
_3=this.getYAxisMetric();if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){this.logWarn("Could not find a y-axis metric defined for the FacetChart.");return null}}
isc.FacetChart.$102q(_6!=null&&_7!=null);var _8={},_9={};_8[_5]=_6.id;_9[_5]=_7.id;return isc.FacetChart.$102v(_1,this.getValue(_8,true),this.getValue(_9,true))},isc.A.$102l=function isc_FacetChart__drawStatistics(_1,_2){if(this.isPieChart()){return}
if(this.isMultiFacet()&&this.isStacked()){return}
var _3=this.chartType=="Radar";isc.FacetChart.$102q(_1==null||isc.isAn.Object(_1));var m;if(_1&&this.metricFacet&&_1[this.metricFacet.id]&&this.metricFacet.findIndex("id",_1[this.metricFacet.id])!=-1)
{m=_1[this.metricFacet.id]}else{m=this.getDefaultMetric()}
if(_2==null){if(this.chartType=="Scatter"){if(m==this.getXAxisMetric())_2=false;else if(m==this.getYAxisMetric())_2=true}else if(_3){if(m==this.valueProperty)_2=false}else if(this.hasXGradations()){if(m==this.valueProperty)_2=false}else if(this.hasYGradations()){if(m==this.valueProperty)_2=true}}
if(_2==null){return}
var _5=this.getChartRect();isc.FacetChart.$102q(_5!=null);var _6=_5.top,_7=_5.left,_8=_5.width,_9=_5.height,_10=_6+_9,_11=_7+_8;var _12,_13;if(_3){_12=this.getChartCenter();_13=this.getChartRadius()}
var _14=null;if(this.chartType=="Scatter"){_14=this.getSecondGradations()}
if(_3&&_2){return}
var _15=this.showExpectedValueLine,_16=this.showStandardDeviationLines&&isc.isAn.Array(this.standardDeviations),_17=this.getMean(_1),_18=this.getStdDev(_1);if(_16){var _19=this.standardDeviations,_20=_19.length,_21=this.useSymmetricStandardDeviations,_22=this.standardDeviationBandProperties;if(_21){_19=_19.map(Math.abs);var _23=(_19.first()===0),_24=_23?1:0,_25=_20-_24,_26=2*(_20-_24)+_24,_27=new Array(_26),_28=2*_25-1,_29=new Array(_28);for(var i=_20-_24;i--;){var j=i+_24;_27[j]=-(_27[_26-1-j]=_19[_20-1-i]);_29[i]=_29[_28-1-i]=_22[_25-1-i]}
if(_23){_27[_20]=0}
_20=_26;_19=_27;_22=_29}
if(this.bandedStandardDeviations&&!_3&&_20>1){var _32,_33=_17+_18*_19[0],_34,_35;if(_2){_35=this.getYCoord(_33);_35=Math.max(_6,Math.min(_10,_35))}else{_35=this.getXCoord(_33,_14);_35=Math.max(_7,Math.min(_11,_35))}
for(var i=1;i<_20;++i){_32=_33;_33=_17+_18*_19[i];_34=_35;isc.FacetChart.$102q(_32<_33);var t=_6,l=_7,w=_8,h=_9;if(_2){_35=this.getYCoord(_33);_35=Math.max(_6,Math.min(_10,_35));t=_34;h=_35-t}else{_35=this.getXCoord(_33,_14);_35=Math.max(_7,Math.min(_11,_35));l=_34;w=_35-l}
var _40=_22[i-1];if(_40==null){continue}
this.addDrawItem(isc.DrawRect.create(_40,{autoDraw:true,top:t,left:l,width:w,height:h}))}}
for(var i=0;i<_20;++i){var _41=_19[i],_33=_17+_18*_41;if(_41==0&&_15){continue}
if(_3&&!_2){var _42=this.getValueRatio(_33);if(!(_42<0||_42>1)){this.addDrawItem(isc.DrawOval.create(this.standardDeviationLineProperties,{autoDraw:true,centerPoint:_12,radius:_42*_13}))}}else if(_2){var y=this.getYCoord(_33);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.getXCoord(_33,_14);if(!(y<_7||y>_11)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}}
if(_15){if(_3&&!_2){var _42=this.getValueRatio(_17);if(!(_42<0||_42>1)){this.addDrawItem(isc.DrawOval.create(this.expectedValueLineProperties,{autoDraw:true,centerPoint:_12,radius:_42*_13}))}}else if(_2){var y=this.getYCoord(_17);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.getXCoord(_17,_14);if(!(x<_7||x>_11)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}
this.$102w()},isc.A.$102w=function isc_FacetChart__drawRegressionCurves(){if(this.chartType!="Scatter"){return}
if(this.showSimpleLinearRegressionCurve){var _1=this.getSimpleLinearRegressionFunction();if(_1!=null){this.$102x(_1,1,this.simpleLinearRegressionCurveProperties)}}
if(this.showPolynomialRegressionCurve){var _2=this.regressionPolynomialDegree;if(_2==1&&this.showSimpleLinearRegressionCurve){return}
var _3=this.getPolynomialRegressionFunction(_2);if(_3!=null){this.$102x(_3,_2,this.polynomialRegressionCurveProperties)}}});isc.evalBoundary;isc.B.push(isc.A.$102x=function isc_FacetChart__drawPolynomial(_1,_2,_3){isc.FacetChart.$102q(this.chartType=="Scatter");isc.FacetChart.$102q(isc.isA.Function(_1));isc.FacetChart.$102q(this.$102u(_2));var _4=this.getChartRect(),_5=this.getSecondGradations(),_6=_5.first(),_7=_5.last(),_8=_7-_6,_9=this.getGradations(),_10=_9.first(),_11=_9.last(),n;if(_2==1){n=2}else{n=Math.ceil(_4.width/5)}
var _13=new Array(n);for(var i=n;i--;){var x=_6+i*_8/(n-1),_16=this.getXCoord(x,_5),_17=this.getYCoord(_1(x));_13[i]=[_16,_17]}
var _18=!this.supportsFractionalCoordinates(),_19=isc.FacetChart.$102y(_13,_4,_18),_20=_19.length;if(_2==1){isc.FacetChart.$102q(_20==1&&_19[0].length==2&&_19[0][0]!=null&&_19[0][1]!=null);var _21=_19[0][0],_22=_19[0][1];this.addDrawItem(isc.DrawLine.create(_3,{autoDraw:true,startLeft:_21[0],startTop:_21[1],endLeft:_22[0],endTop:_22[1]}))}else{for(var i=0;i<_20;++i){this.addDrawItem(isc.DrawPath.create(_3,{autoDraw:true,points:_19[i]}))}}},isc.A.drawDataPoint=function isc_FacetChart_drawDataPoint(_1,_2,_3,_4,_5,_6,_7){_6=_6||this;_7=_7!=null?_7:this.interactivePoints;if(isNaN(_1[1])||_1.$111s===true)return;var _8=_6.getDataColor(_2),_9=this.pointShapes[_2%this.pointShapes.length];_3=_3||_6.dataPointSize;var _9=this["draw"+_9+"Point"](_6,_8,_1,_3);if(_7){_3+=2;if(_3<this.minKnobSize)_3=this.minKnobSize;var _10=isc.DrawKnob.create({autoDraw:false,drawPane:this,$104q:_6,knobShape:_9,dataRecord:_4,dataValue:_5,x:this.getLeftPadding()+_1[0],y:this.getTopPadding()+_1[1],width:_3,height:_3,overflow:"hidden",border:this.showKnobs?"1px solid black":"none",cursor:"crosshair",canHover:true,hover:function(){var _6=this.$104q;if(_6.pointHover){return _6.pointHover(this.dataValue,this.dataRecord,this.knobShape,this)}},getHoverHTML:function(){if(_6.getPointHoverHTML){return _6.getPointHoverHTML(this.dataValue,this.dataRecord,this.knobShape,this)}else return null},click:function(){if(_6.pointClick){return _6.pointClick(this.dataValue,this.dataRecord,this.knobShape,this)}}});this.addChild(_10);this.knobs=this.knobs||[];this.knobs.add(_10);return _10}else{return _9}},isc.A.drawOvalPoint=function isc_FacetChart_drawOvalPoint(_1,_2,_3,_4){_1=_1||this;return isc.DrawOval.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:Math.round(_4/2)})},isc.A.drawSquarePoint=function isc_FacetChart_drawSquarePoint(_1,_2,_3,_4,_5){_1=_1||this;return isc.DrawRect.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,left:_3[0]-Math.round(_4/2),top:_3[1]-Math.round(_4/2),width:_4,height:_4,rotation:_5})},isc.A.drawDiamondPoint=function isc_FacetChart_drawDiamondPoint(_1,_2,_3,_4){return this.drawSquarePoint(_1,_2,_3,_4,45)},isc.A.drawTrianglePoint=function isc_FacetChart_drawTrianglePoint(_1,_2,_3,_4,_5){_1=_1||this;var _6=this.getTriangleOnPoint(_3,_4);return isc.DrawTriangle.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,points:_6})},isc.A.getTriangleOnPoint=function isc_FacetChart_getTriangleOnPoint(_1,_2){var _3=[];var _4=Math.round(_2/2);_3.push([_1[0]-_4,_1[1]+_4]);_3.push([_1[0]+_4,_1[1]+_4]);_3.push([_1[0],_1[1]-_4]);return _3},isc.A.prepareForDragging=function isc_FacetChart_prepareForDragging(){this.Super("prepareForDragging",arguments);var _1=this.getChartRect();this.hoopSelectorRect=[this.getPageLeft()+_1.left,this.getPageTop()+_1.top,_1.width,_1.height]},isc.A.updateHoopSelection=function isc_FacetChart_updateHoopSelection(){},isc.A.drawTitle=function isc_FacetChart_drawTitle(){if(!this.showTitle){this.$78t={left:0,top:0,width:0,height:0}
return}
var _1=this.$78t=this.measureLabel(this.title||" ",this.titleProperties);var _2=Math.floor((this.getInnerContentWidth()/2)-(_1.width/2));this.$78h=this.drawLabel(_2,0,this.title||" ",this.titleProperties)},isc.A.setTitle=function isc_FacetChart_setTitle(_1){this.title=_1;this.setData(this.data)},isc.A.setShowTitle=function isc_FacetChart_setShowTitle(_1){this.showTitle=_1;this.setData(this.data)},isc.A.shouldShowDataAxisLabel=function isc_FacetChart_shouldShowDataAxisLabel(){var _1=this.getDataLabelFacet();return!this.isPieChart()&&this.chartType!="Radar"&&_1!=null&&_1.title!=null&&(this.showDataAxisLabel!==false)},isc.A.shouldShowValueAxisLabel=function isc_FacetChart_shouldShowValueAxisLabel(_1){_1=_1||this;return(_1!=this||(!this.isPieChart()&&this.chartType!="Radar"))&&_1.valueTitle!=null&&(_1.showValueAxisLabel!==false)},isc.A.getDataAxisLabelHeight=function isc_FacetChart_getDataAxisLabelHeight(){if(!this.shouldShowDataAxisLabel())return 0;var _1=this.getDataLabelFacet();if(!_1)return 0;var _2=this.measureLabel(_1.title,this.dataAxisLabelProperties);return _2.height+this.axisLabelMargin},isc.A.getValueAxisLabelHeight=function isc_FacetChart_getValueAxisLabelHeight(_1){_1=_1||this;if(!this.shouldShowValueAxisLabel(_1))return 0;var _2=this.measureLabel(_1.valueTitle,_1.valueAxisLabelProperties);return _2.height+this.axisLabelMargin},isc.A.getAxisLabelSpace=function isc_FacetChart_getAxisLabelSpace(_1){if(_1&&this.hasYGradations()){return this.getValueAxisLabelHeight()}else{return this.getDataAxisLabelHeight()}},isc.A.drawDataAxisLabel=function isc_FacetChart_drawDataAxisLabel(){if(!this.shouldShowDataAxisLabel())return;this.drawAxisLabel(this.getDataLabelFacet().title,this.dataAxisLabelProperties,!this.hasYGradations(),false)},isc.A.drawValueAxisLabel=function isc_FacetChart_drawValueAxisLabel(){if(!this.shouldShowValueAxisLabel())return;this.drawAxisLabel(this.valueTitle,this.valueAxisLabelProperties,this.hasYGradations(),false)},isc.A.$104h=function isc_FacetChart__drawAllValueAxisLabels(){if(!this.$1035()){this.drawValueAxisLabel()}else{isc.FacetChart.$102q(this.hasYGradations());var _1=this.$1036();if(this.$104g()){this.drawValueAxisLabel();var _2=_1.right[0];if(!this.shouldShowValueAxisLabel(_2))return;_2.$1048=this.drawAxisLabel(_2.valueTitle,_2.valueAxisLabelProperties,true,true)}else{var _3=this.getChartTop()+this.getChartHeight()+this.chartRectMargin,_4=this.$104i();for(var j=0;j<_4;++j){var _2=(j==0?this:_1.all[j-1]);if(!this.shouldShowValueAxisLabel(_2)){continue}
var _6=_2.valueTitle,_7=_2.valueAxisLabelProperties,_8=this.measureLabel(_6,_7);var _9=this.$103v(_2),_10=_2.$104f;_2.$1048=isc.DrawLabel.create(_7,{autoDraw:true,drawPane:this,left:_9+Math.round((_10-_8.width)/2),top:_3,height:_8.height,contents:_6})}}}},isc.A.drawAxisLabel=function isc_FacetChart_drawAxisLabel(_1,_2,_3,_4){var _5=this.measureLabel(_1,_2),_6=this.getChartRect();if(_3){var _7=(_5.width/2)*(this.isVML?-1:1);isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:(_4?this.getInnerContentWidth()-_5.height:0),top:_6.top+Math.round(_6.height/2+_7),height:_5.height,rotation:270,contents:_1})}else{isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:_6.left+Math.round(_6.width/2-_5.width/2),top:_6.top+_6.height+this.getXLabelsHeight()-_5.height,contents:_1})}},isc.A.shouldShowLegend=function isc_FacetChart_shouldShowLegend(){if(this.showLegend!==false&&(this.isMultiFacet()||this.isPieChart()||(this.chartType=="Scatter"&&this.facets.length>1)||(this.$1035())))this.drawLegend()},isc.A.getLegendFacet=function isc_FacetChart_getLegendFacet(){var _1=this.isPieChart();if(this.chartType=="Scatter"){return this.facets[1]}else if(this.isMultiFacet()){return(this.reversePieFacets&&_1?this.facets[0]:this.facets[1])}else if(_1){return this.facets[0]}else{return null}},isc.A.getDataLabelFacet=function isc_FacetChart_getDataLabelFacet(){if(this.chartType=="Scatter"){return null}else if(this.isPieChart()){if(!this.isMultiFacet()){return null}else if(this.reversePieFacets){return this.facets[1]}}
return this.facets[0]},isc.A.drawLegend=function isc_FacetChart_drawLegend(){this.logDebug("drawing legend","chartDraw");var _1=this.legendSwatchSize;var _2=this.legendPadding;var _3=this.legendItemPadding;var _4=this.legendTextPadding;var _5=this.legendRowPadding;var _6=this.$1035();var _7=this.getLegendFacet(),_8=_7&&_7.values&&_7.values.getLength();isc.FacetChart.$102q(!(this.isMultiFacet()||!_6)||_7!=null);var _9=[];if(_6){var _10=this.inlinedFacet&&this.inlinedFacet.values[0],_11=_10!=null?(_10.title||_10.id):this.valueTitle;if(this.isMultiFacet()){for(var k=0;k<_8;++k){var _13=_7.values[k];_9.add({title:_11+" ("+(_13.title||_13.id)+")",context:this,series:k})}}else{_9.add({title:_11,context:this,series:0})}
var _14=this.$1036().all;for(var j=0,_16=_14.length;j<_16;++j){var _17=_14[j];var _18=this.getFacetValue(this.inlinedFacet.id,_17.$103o),_19=(_18.title||_18.id);if(_17.isMultiFacet()){for(var k=0;k<_8;++k){var _13=_7.values[k];_9.add({title:_19+" ("+(_13.title||_13.id)+")",context:_17,series:k})}}else{var _20=_19;if(this.isMultiFacet()){var _21=this.$103u(_17);_20=_20+" ("+(_21.title||_21.id)+")"}
_9.add({title:_20,context:_17,series:0})}}}else{if(!_7.values)return;for(var i=0;i<_8;i++){var _13=_7.values[i];_9.add({title:_13.title||_13.id})}}
var _23=this.getInnerWidth();var _24=_2;var _25=1;for(var i=0;i<_9.length;i++){var _26=this.measureLabel(_9[i].title,this.legendLabelProperties);var _27=_1+_4+_26.width;if(_24+_27+_2>_23){_25++;_24=_2}
if(i!=_9.length-1){_27+=_3}
_9[i].width=_26.width;_9[i].height=_26.height;_9[i].rowNum=_25;_9[i].left=_24;_24+=_27}
_24+=_2;var _28,_29,_30,_31;if(_25>1){_31=_23}else{_31=_24}
_29=(_25*_1)+(_2*2)+((_25-1)*_5);_30=this.getInnerContentHeight()-_29;if(_31==_23)_28=0;else _28=Math.floor((_23/2)-(_31/2));this.$78k={left:_28,top:_30,width:_31,height:_29};if(this.showLegendRect){this.drawRect(_28,_30,_31,_29,this.legendRectProperties)}
var _32=isc.addProperties({$104x:true},this.legendLabelProperties);for(i=0;i<_9.length;i++){var _33=_9[i].width;var _24=_28+_9[i].left;var _34=_9[i].rowNum;var _35=_30+((_1+_5)*(_34-1))+_2;if(_6){this.$104b(_9[i].context,_9[i].series,_24,_35,_1)}else{this.drawRect(_24,_35,_1,_1,isc.addProperties({fillColor:this.getDataColor(i)},this.legendSwatchProperties))}
_24+=_1+_4;this.drawLabel(_24,_35+Math.round((_1-this.getDataLabelHeight())/2),_9[i].title,_32)}},isc.A.getDataColor=function isc_FacetChart_getDataColor(_1,_2){_2=_2||this;var _3=_2.dataColors[_1%_2.dataColors.length];return(!isc.startsWith(_3,"#"))?"#"+_3:_3},isc.A.$99i=function isc_FacetChart__getDataGradient(_1,_2,_3,_4){_4=_4||this;_2=_2!==false;_3=_3==undefined?this.drawingType:_3;var _5=_4.getDataColor(_1);var _6=_4.chartType+_5.replace("#","-");var _7;if(!_2||!_4.dataGradients[_6]){switch(this.chartType){case"Bar":_7={id:_6,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_5,"-#0A0A0A"),offset:0.0},{color:_5,offset:0.2},{color:this.getClass().mixrgb(_5,"+#333333"),offset:0.4},{color:_5,offset:0.7},{color:this.getClass().mixrgb(_5,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Column":_7={id:_6,x1:'0%',y1:'0%',x2:'100%',y2:'0%',colorStops:[{color:this.getClass().mixrgb(_5,"-#0A0A0A"),offset:0.0},{color:_5,offset:0.2},{color:this.getClass().mixrgb(_5,"+#333333"),offset:0.4},{color:_5,offset:0.7},{color:this.getClass().mixrgb(_5,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Area":case"Line":_7={id:_6,x1:0,x2:0,y1:"0%",y2:"100%",colorStops:[{color:this.getClass().mixrgb(_5,"+#555555"),offset:0.0},{color:this.getClass().mixrgb(_5,"+#222222"),offset:0.3},{color:this.getClass().mixrgb(_5,"-#333333"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Doughnut":case"Pie":_7={id:_6,colorStops:[{color:_5,offset:0.0},{color:_5,offset:_3=="vml"?0.8:0.9},{color:this.getClass().mixrgb(_5,"-#222222"),offset:_3=="vml"?0.9:0.95},{color:this.getClass().mixrgb(_5,"-#666666"),offset:1.0}]};if(_3!="svg"){isc.addProperties(_7,{cx:0,cy:0,r:'72%',fx:0,fy:0})}
if(_2)this.createRadialGradient(_6,_7);break;default:_7={id:_6,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_5,"+"+(_3=="vml"?"#111111":"#222222")),offset:0.0},{color:_5,offset:0.4},{color:_5,offset:0.6},{color:this.getClass().mixrgb(_5,"-"+(_3=="vml"?"#111111":"#1A1A1A1A")),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break}}
if(_7&&_2)_4.dataGradients[_6]=_7;return(_2?_6:_7)},isc.A.getDataGradient=function isc_FacetChart_getDataGradient(_1){return this.$99i(_1,true,this.drawingType,this)},isc.A.$985=function isc_FacetChart__getPieSeriesGradient(_1,_2,_3,_4,_5){_4=_4!==false;_5=_5==undefined?this.drawingType:_5;if(_5!="svg")return this.$99i(_1,_4,_5);if(this.$986==undefined)this.$986=1;var _6="radialGradient"+(this.$986++);var _7={id:_6,$981:this.$99i(_1,_4,_5),svgGradientUnits:"userSpaceOnUse",cx:_2[0],cy:_2[1],r:_3,$984:true};if(_4){this.createRadialGradient(_6,_7);return _6}else{this.gradients[_6]=_7;return _7}},isc.A.getRadarShapeGradient=function isc_FacetChart_getRadarShapeGradient(_1,_2,_3,_4){var _5=_2.points,_6=this.getClass().mixrgb(_1,"+#444444"),_7=this.getClass().mixrgb(_1,"-#444444");var _8=0.01,_9=Number.MAX_VALUE;for(var i=_5.length;i--;){var _11=isc.GraphMath.straightDistance(_5[i],_3);_8=Math.max(_11,_8);_9=Math.min(_11,_9)}
if(_4)_9=0;var _12=_9/_8;var _13=_2.getCenter(),x=-_13[0]+_3[0],y=-_13[1]+_3[1];return{svgGradientUnits:"userSpaceOnUse",cx:x,cy:y,r:_8,fx:x,fy:y,colorStops:[{color:_6,offset:0},{color:_6,offset:_12},{color:_7,offset:1.0}]}},isc.A.$105v=function isc_FacetChart__getColorMutePercent(_1,_2){if(isc.isA.String(_1)){var _3=_1.endsWith("%");_1=parseFloat(_1)}
if(isc.isA.Number(_1)){_1=Math.min(_1,100);_1=-Math.min(-_1,100);isc.FacetChart.$102q(-100<=_1&&_1<=100)}else{_1=_2}
return _1},isc.A.drawLabel=function isc_FacetChart_drawLabel(_1,_2,_3,_4,_5,_6){isc.FacetChart.$102q(_3==null||isc.isA.String(_3));var _7=(_5?this.rotateProps:null);var _8=isc.DrawLabel.create(_4,_7,{autoDraw:true,drawPane:this,left:_1+(!_6&&this.isVML&&_5&&_4.fontSize?_4.fontSize+this.padding:0),top:_2,contents:_3});return _8},isc.A.getNearestDrawnValue=function isc_FacetChart_getNearestDrawnValue(_1,_2){if(!this.$111u(_1,_2)||this.chartType=="Scatter"){return null}
if(_1==null)_1=this.getOffsetX()-this.getLeftPadding();if(_2==null)_2=this.getOffsetY()-this.getTopPadding();var _3=this.$100u(_1,_2,this,true);if(_3!=null){delete _3.drawItemId;delete _3.text}
return _3},isc.A.getNearestDrawnValues=function isc_FacetChart_getNearestDrawnValues(_1,_2){if(!this.$111u(_1,_2)){return null}
if(_1==null)_1=this.getOffsetX()-this.getLeftPadding();if(_2==null)_2=this.getOffsetY()-this.getTopPadding();if(this.chartType=="Scatter"){return this.$111v(_1,_2)}else{var _3=this.getDataLabelFacet(),_4=this.getLegendFacet(),_5=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_4?this.inlinedFacet:null),_6=this.$1035(),_7=_6&&this.$1036().all,_8=(_5!=null?_5.values.length:1),_9=new Array(_8);for(var i=0;i<_8;++i){var _11;if(i==0){_11=this}else if(_6){_11=_7.find("$103o",_5.values[i].id)}else{_11=null}
_9[i]=_11&&this.$100u(_1,_2,_11,true);if(_9[i]!=null){delete _9[i].drawItemId;delete _9[i].text}}
return _9}},isc.A.$111u=function isc_FacetChart__canGetNearestDrawnValue(_1,_2){if(_1!=null&&_2==null){isc.logWarn("Both coordinates should be passed in method getNearestDrawnValue or no coordinates at all to use getOffset methods.");return false}else if(!this.isDrawn()){isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return false}else if(this.chartType!="Scatter"&&this.getOrderedData().length==0){return false}else if(this.chartType=="Scatter"&&this.data.length==0){return false}else{return true}},isc.A.$111v=function isc_FacetChart__getScatterNearestDrawnValues(_1,_2){isc.FacetChart.$102q(_1!=null&&_2!=null);var _3=isc.Math.$101k,_4=this.getOrderedData(),_5=this.getLegendFacet(),_6=null,_7=null,_8=null;for(var j=_5?_5.values.length:1;j--;){var _10=(_5?_4[j].series:_4);for(var i=_10.length;i--;){var _12=_3(_1-_10[i].drawnX,_2-_10[i].drawnY);if(_8==null||_12<_8){_6=_10[i];if(_5)_7=j;_8=_12}}}
if(_6==null){return null}else{var _13=this.metricFacet,_14=_13.values.length,_15=new Array(_14),_16=this.getXAxisMetric(),_17=this.getYAxisMetric(),_18=_13.values.findIndex("id",_16),_19=_13.values.findIndex("id",_17),_20={};if(_5!=null){_20[_5.id]=_4[_7].facetValueId}
for(var i=_14;i--;){if(i==_18){_15[i]={x:Math.round(_6.drawnX),y:null,value:_6.record[_16],facetValues:_20,record:_6.record}}else if(i==_19){_15[i]={x:null,y:Math.round(_6.drawnY),value:_6.record[_17],facetValues:_20,record:_6.record}}else{_15[i]=null}}
return _15}},isc.A.$100u=function isc_FacetChart__getNearestDrawnValue(_1,_2,_3,_4){_3=_3||this;isc.FacetChart.$102q(_3.chartType!="Scatter");var _5=isc.Math.$101k,d=this.getOrderedData(),_7=this.getDataLabelFacet(),_8=_7&&_7.id,_9=this.getLegendFacet(),_10=_9&&_9.id,_11=(this.inlinedFacet!=null&&this.inlinedFacet!=_7&&this.inlinedFacet!=_9?this.inlinedFacet:null);isc.FacetChart.$102q(_1!=null&&_2!=null&&d.length!=0);var _12=(_3!=this),_13=_3.isMultiFacet(),_14,_15;if(_12){_14=_3.$103o;if(this.isMultiFacet()&&!_3.isMultiFacet()){isc.FacetChart.$102q(_9!=null);var _16=this.$103u(_3);_15=_9.values.findIndex("id",_16.id);isc.FacetChart.$102q(_15!=-1)}}
isc.FacetChart.$102q(!_12||(_3.chartType=="Column"||_3.chartType=="Line"||_3.chartType=="Area"));switch(_3.chartType){case"Bar":var _17=_13&&!this.isStacked(_3),_18=d[0],_19=null,_20={};if(this.isMultiFacet()){if(_17){var _21=Math.abs(d[0].series[0].drawnY-_2);for(var i=0;i<d.length;++i){var _23=d[i];for(var j=0;j<_23.series.length;++j){var _25=Math.abs(_23.series[j].drawnY-_2);if(_25<_21||i+j==0){_18=d[i];_19=_18.series[j];_21=_25}else{j=_23.series.length;i=d.length}}}}else{for(var i=1;i<d.length;i++){if(Math.abs(d[i].series[0].drawnY-_2)<Math.abs(_18.series[0].drawnY-_2)){_18=d[i]}else{break}}
_19=_18.series[0];for(var j=1;j<_18.series.length;j++){if(Math.abs(_18.series[j].drawnX-_1)<Math.abs(_19.drawnX-_1)){_19=_18.series[j]}else{break}}}
_20[_8]=_18.facetValueId;_20[_10]=_19.facetValueId}else{_19=_18;for(var i=1;i<d.length;i++){if(Math.abs(d[i].drawnY-_2)<Math.abs(_19.drawnY-_2)){_19=d[i]}else{break}}
_20[_8]=_19.facetValueId}
if(_11!=null){_20[_11.id]=_11.values[0].id}
return{x:Math.round(_19.drawnX),y:Math.round(_19.drawnY),barThickness:_19.barThickness,value:_19.value,text:this.formatDataValue(_19.value),facetValues:_20,record:_19.record,drawItemId:_19.drawItemId}
case"Column":var _17=_13&&!this.isStacked(_3),_26=this.isMultiFacet()&&(!_12||_13),_27=!_26&&_12&&this.isMultiFacet(),_28=!_26&&!_27,_19=null,_29,_20={},_30;if(_26){var _31=0,_32=0,_21=Math.abs(this.$1040(_3,_31,0).drawnX-_1);if(_17){for(var i=0;i<d.length;++i){var _23=d[i];for(var j=0;j<_23.series.length;++j){var _25=Math.abs(this.$1040(_3,i,j).drawnX-_1);if(_25<_21||i+j==0){_31=i;_32=j;_21=_25}else{j=_23.series.length;i=d.length}}}}else{for(var i=1;i<d.length;i++){var _25=Math.abs(this.$1040(_3,i,0).drawnX-_1);if(_25<_21){_31=i;_21=_25}else{break}}
_21=Math.abs(this.$1040(_3,_31,_32).drawnY-_2);for(var j=1;j<d[_31].series.length;j++){var _25=Math.abs(this.$1040(_3,_31,j).drawnY-_2);if(_25<_21){_32=j;_21=_25}else{break}}}
_19=this.$1040(_3,_31,_32);var _33=d[_31].series[_32];_30=_33.record;_29=(_12?_30[_14]:_33.value);_20[_8]=d[_31].facetValueId;_20[_10]=_33.facetValueId;if(_11!=null){_20[_11.id]=(_12?_14:_11.values[0].id)}}else{var _31=0,_32=(_27?_15:null),_34=this.$1040(_3,_31,_32).drawnX;for(var i=1;i<d.length;i++){var _35=this.$1040(_3,i,_32).drawnX;if(Math.abs(_35-_1)<Math.abs(_34-_1)){_31=i;_34=_35}else{break}}
_19=this.$1040(_3,_31,_32);var _33=(_27?d[_31].series[_32]:d[_31]);_30=_33.record;_29=(_12?_30[_14]:_33.value);_20[_8]=d[_31].facetValueId;if(_27){_20[_10]=_33.facetValueId}
if(_11!=null){_20[_11.id]=(_12?_14:_11.values[0].id)}}
return{x:Math.round(_19.drawnX),y:Math.round(_19.drawnY),barThickness:_19.barThickness,value:_29,text:_3.formatDataValue(_29),facetValues:_20,record:_30,drawItemId:_19.drawItemId}
case"Area":case"Line":var _26=this.isMultiFacet()&&(!_12||_13),_27=!_26&&_12&&this.isMultiFacet(),_28=!_26&&!_27,_31,_32,_19=null;if(_4){_31=0;_32=null;var _36=null;for(var i=d.length;i--;){for(var j=(_26?d[i].series.length:1);j--;){var k=(_26?j:(_27?_15:null)),_38=this.$1040(_3,i,k),_39=_5(_1-_38.drawnX,_2-_38.drawnY);if(_36==null||_39<_36){_36=_39;_31=i;_32=k;_19=_38}}}}else if(_26){_31=_32=0;for(var i=1;i<d.length;i++){if(Math.abs(this.$1040(_3,i,0).drawnX-_1)<Math.abs(this.$1040(_3,_31,0).drawnX-_1)){_31=i}else{break}}
_19=this.$1040(_3,_31,0);var _40=_19,_41=0;if(_2&&_19.drawnY<_2)_19=null;for(var j=1;j<d[_31].series.length;j++){var s=this.$1040(_3,_31,j),_43=s.drawnY;if(_40.drawnY<_43){_40=s;_41=j}
if(_2&&_43<_2)continue;if(_19==null||_19.drawnY>_43){_19=s;_32=j}}
if(_19==null){_19=_40;_32=_41}}else{_31=0;_32=(_27?_15:null);var _34=this.$1040(_3,_31,_32).drawnX;for(var i=1;i<d.length;i++){var _35=this.$1040(_3,i,_32).drawnX;if(Math.abs(_35-_1)<Math.abs(_34-_1)){_31=i;_34=_35}else{break}}
_19=this.$1040(_3,_31,_32)}
var _29,_20={},_30;if(_26){var _33=d[_31].series[_32];_30=_33.record;_29=(_12?_30[_14]:_33.value);_20[_8]=d[_31].facetValueId;_20[_10]=_33.facetValueId;if(_11!=null){_20[_11.id]=(_12?_14:_11.values[0].id)}}else{var _33=(_27?d[_31].series[_32]:d[_31]);_30=_33.record;_29=(_12?_30[_14]:_33.value);_20[_8]=d[_31].facetValueId;if(_27){_20[_10]=_33.facetValueId}
if(_11!=null){_20[_11.id]=(_12?_14:_11.values[0].id)}}
if(_19==null)return null;return{x:Math.round(_19.drawnX),y:Math.round(_19.drawnY),value:_29,text:_3.formatDataValue(_29),facetValues:_20,record:_30}
case"Radar":var _18=null,_20={};if(this.isMultiFacet()){var _31=0,_32=0;_18=d[0].series[0];var _44=_18.drawnX-_1;var _45=_18.drawnY-_2;var _39=_5(_44,_45);for(var i=0;i<d.length;i++){for(var j=0;j<d[i].series.length;j++){_44=d[i].series[j].drawnX-_1;_45=d[i].series[j].drawnY-_2;var _46=_5(_44,_45);if(_46<_39){_39=_46;_18=d[i].series[j];_31=i;_32=j}}}
_20[_8]=d[_31].facetValueId;_20[_10]=_18.facetValueId}else{_18=d[0];var _44=_18.drawnX-_1;var _45=_18.drawnY-_2;var _39=_5(_44,_45);for(var i=0;i<d.length;i++){_44=d[i].drawnX-_1;_45=d[i].drawnY-_2;var _46=_5(_44,_45);if(_46<_39){_39=_46;_18=d[i]}}
_20[_8]=_18.facetValueId}
if(_11!=null){_20[_11.id]=_11.values[0].id}
return{x:Math.round(_18.drawnX),y:Math.round(_18.drawnY),value:_18.value,text:this.formatDataValue(_18.value),facetValues:_20,record:_18.record};case"Doughnut":case"Pie":if(!this.isMultiFacet()){var _18=d[0];var _47=_2-_18.pieY;var _48=_1-_18.pieX;var _49=Math.atan2(_47,_48)*180/Math.PI;if(_49<0)_49+=360;var _19=null;for(var i=0;i<d.length;i++){if(_49>d[i].startAngle&&_49<d[i].endAngle){_19=d[i]}}
if(_19==null){return null}
var _20={};_20[_10]=_19.facetValueId;if(_11!=null){_20[_11.id]=_11.values[0].id}
return{x:Math.round(_19.pieX),y:Math.round(_19.pieY),value:_19.value,text:this.formatDataValue(_19.value),facetValues:_20,record:_19.record,startAngle:_19.startAngle,endAngle:_19.endAngle,radius:_19.pieRadius,drawItemId:_19.drawItemId}}else if(d.length>1){var _44=d[0].series[0].pieX-_1;var _45=d[0].series[0].pieY-_2;var _39=Math.sqrt(_44*_44+_45*_45);var _15=0;if(this.stacked){for(var i=1;i<d.length;i++){if(_39<d[i].series[0].pieRadius&&d[i].series[0].pieRadius<d[_15].series[0].pieRadius){_15=i}}}else{for(var i=1;i<d.length;i++){_44=d[i].series[0].pieX-_1;_45=d[i].series[0].pieY-_2;var _46=Math.sqrt(_44*_44+_45*_45);if(_46<_39){_39=_46;_15=i}}}
var _47=_2-d[_15].series[0].pieY;var _48=_1-d[_15].series[0].pieX;var _49=Math.atan2(_47,_48)*180/Math.PI;if(_49<0)_49+=360;var _19=null;var _31=0;var _18=d[_15];for(var i=0;i<_18.series.length;i++){if(_49>=_18.series[i].startAngle&&_49<_18.series[i].endAngle){_19=_18.series[i];_31=i}}
if(_19==null){return null}
var _20={};_20[_8]=d[_15].facetValueId;_20[_10]=_19.facetValueId;if(_11!=null){_20[_11.id]=_11.values[0].id}
return{x:Math.round(_19.pieX),y:Math.round(_19.pieY),value:_19.value,text:this.formatDataValue(_19.value),facetValues:_20,record:_19.record,startAngle:_19.startAngle,endAngle:_19.endAngle,radius:_19.pieRadius,drawItemId:_19.drawItemId}}
return null;default:return null}});isc.evalBoundary;isc.B.push(isc.A.getDrawnValue=function isc_FacetChart_getDrawnValue(_1,_2){if(!this.isDrawn()){if(_2)isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return null}
if(!_1){if(_2)isc.logWarn("FacetValues should be passed to get drawn value.");return null}
if(this.chartType=="Scatter"){return null}
var d=this.getOrderedData();var _4=this.isMultiFacet();if(d.length==0)return null;var _5=this.getDataLabelFacet(),_6=_5&&_5.id,_7=this.getLegendFacet(),_8=_7&&_7.id,_9=(this.inlinedFacet!=null&&this.inlinedFacet!=_5&&this.inlinedFacet!=_7?this.inlinedFacet:null),_10=_9&&_9.id,_11=(_5?1:0)+(_7?1:0)+(_9?1:0);var _12=isc.getKeys(_1);if(_11!=_12.length-(_12.contains(isc.gwtRef)?1:0)){return null}
if((_5&&!_12.contains(_6))||(_7&&!_12.contains(_8))||(_9&&!_12.contains(_10)))
{return null}
var _13=null,_14=(_5?_6:_8);for(var i=d.length;i--;){if(d[i].facetValueId==_1[_14]){if(!_4){_13=d[i];i=0}else{for(var j=d[i].series.length;j--;){if(d[i].series[j].facetValueId==_1[_8]){_13=d[i].series[j];i=j=0}}}}}
if(_13==null)return null;var _17=_1[_10];if(_9&&!_9.values.find("id",_17)){return null}
var _18={x:_13.pieX|_13.drawnX,y:_13.pieY|_13.drawnY,value:(_9?_13.record[_17]:_13.value),facetValues:_1,record:_13.record};if(_13.startAngle!=null)_18.startAngle=_13.startAngle;if(_13.endAngle!=null)_18.endAngle=_13.endAngle;if(_13.barThickness!=null)_18.barThickness=_13.barThickness;return _18},isc.A.$1040=function isc_FacetChart__getDrawnValue(_1,_2,_3){var _4=this.getOrderedData(),_5=this.getLegendFacet();if(_1.chartType=="Scatter"){isc.FacetChart.$102q(_1==this&&!(_2==null||(_5&&_3==null)));return(_5?_4[_2].series[_3]:_4[_2])}
var _6=this.isMultiFacet(),_7=(_1!=this),_8;isc.FacetChart.$102q(!(_2==null||(_6&&_3==null)));if(_7){_8=this.$1036().all.indexOf(_1);if(_6&&!_1.isMultiFacet()){var _9=this.$103u(_1);_3=_5.values.findIndex("id",_9.id)}}
var _10=_6?_4[_2].series[_3]:_4[_2];if(_7){return((_10.drawn||(_10.drawn=[]))[_8]||(_10.drawn[_8]={}))}else{return _10}},isc.A.mouseOut=function isc_FacetChart_mouseOut(){this.$105f();return true},isc.A.mouseMove=function isc_FacetChart_mouseMove(){var _1=this.getChartRect(),x=this.getOffsetX()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopPadding();if(x>_1.left&&x<(_1.left+_1.width)&&y>_1.top&&y<(_1.top+_1.height))
{var _4=this.$1043();if(_4!=null){if(this.$100l==null){this.$100m=isc.DrawRect.create(this.hoverRectProperties,{autoDraw:true,drawPane:this,height:20,width:24,top:-100});if(_4.showDataPoints!=true&&(_4.chartType=="Line"||_4.chartType=="Area"||_4.chartType=="Radar"))
{this.$100v=this.drawDataPoint([-100,-100],0,6,null,0)}
this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:""});return}
var _5=this.$100u(x,y,_4,false);if(_5!=null&&_5.value==null)_5.value=0;if(_5!=null&&this.$100l.contents!==_5.value){var _6=this.measureHoverLabel(_5.text);if(this.$100m.drawingVML){this.$100m.destroy();this.$100m=isc.DrawRect.create({autoDraw:true,drawPane:this,rounding:0.5,lineWidth:1,lineColor:"#333333",fillColor:"#ffffff",fillOpacity:0.5,shadow:{blur:8,color:"#555555",offset:[2,2]},height:_6.height+8,width:_6.width+8,top:-300});this.$100l.destroy();this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:_5.text})}else{this.$100l.contents=_5.text;this.$100m.width=_6.width+8;this.$100m.height=_6.height+8}
this.$100l.draw();var _7=_5.x;var _8=_5.y;if(this.$100v&&_4.showDataPoints!=true){this.$100v.moveTo(_7-3,_8-3)}
switch(_4.chartType){case"Area":case"Line":case"Radar":if(_4.showDataPoints==true){for(var i=0;i<this.knobs.length;i++){if(this.knobs[i].dataValue==_5.value){var r=this.knobs[i].dataRecord;var _11=_5.facetValues;if(r==null||_11==null)break;var _12=isc.getKeys(r);if(_12.length!=isc.getKeys(_11).length)continue;var _13=true;for(var _14 in r){if(r[_14]!=_11[_14]){_13=false;break}}
if(_13){if(this.$100v&&this.$100v.ID!=this.knobs[i].ID){this.$100w()}
if(this.$100v==null){this.$100v=this.knobs[i];var _15=this.$100v.knobShape.fillColor;this.$100v.prevFillColor=_15;_15=this.$100x(_15,this.brightenPercent);this.$100v.knobShape.setFillColor(_15);var _15=this.$100v.knobShape.lineColor;this.$100v.prevLineColor=_15;_15=this.$100x(_15,this.brightenPercent);this.$100v.knobShape.setLineColor(_15)}
break}}}}
_8-=this.$100m.height+4;_7+=4;break;case"Bar":_8-=this.$100m.height/2;_7-=this.hoverLabelOffset;break;case"Column":_8-=this.$100m.height;break;case"Doughnut":case"Pie":var _16=(_5.startAngle+_5.endAngle)/2+90;if(_16<0){_16+=360}
var _17=this.$100k([_5.x,_5.y],this.maxRadius||_5.radius,_16,_5.text,this.hoverLabelProperties);_7=_17[0];_8=_17[1]}
if(_5.drawItemId){var _18=window[_5.drawItemId];if(this.$100y&&this.$100y.ID!=_18.ID){this.$100z()}
if(this.$100y==null){this.$100y=_18;if(_18.radius){_18.setFillOpacity((100-this.brightenPercent)/100)}else{var _15=_18.lineColor;_18.prevLineColor=_15;_15=this.$100x(_15,this.brightenPercent);_18.setLineWidth(2);_18.setLineColor(_15)}}}
if(_7<0){_7=0}else if((_7+this.$100m.width)>this.getWidth()){_7=this.getWidth()-this.$100m.width-8}
if(_8<0){_8=0}else if((_8+this.$100m.height)>this.getHeight()){_8=this.getHeight()-this.$100m.height-8}
var _19=4;if(isc.Browser.isFirefox)_19+=3;this.$100l.moveTo(_7+4,_8+_19);this.$100m.moveTo(_7,_8)}else if(_5==null){this.$1002()}}else{this.$1002()}}else if(this.$1045()){isc.FacetChart.$102q(this.$1035());var _20=this.$1036(),_21=1+_20.all.length;for(var j=0;j<_21;++j){var _4=(j==0?this:_20.all[j-1]),_23=this.$103v(_4),_24=_23+_4.$104f;if(_23<=x&&x<=_24){if(_4==this){break}
var _25=_4.$1048;isc.FacetChart.$102q(_25!=null);var _26=_25.getBoundingBox();if(x>=_26[0]&&x<=_26[2]&&y>=_26[1]&&y<=_26[3])
{this.$105d(_4);return}}}}
if(this.$1045()){this.$105f()}},isc.A.$1002=function isc_FacetChart__cleanHoverItems(){if(this.$100l!=null){isc.FacetChart.$102q(!this.$100l.destroyed&&this.$100m!=null&&!this.$100m.destroyed);this.$100l.destroy();this.$100m.destroy();this.$100l=null;this.$100m=null;if(this.$100v)this.$100w();if(this.$100y)this.$100z()}},isc.A.$100w=function isc_FacetChart__cleanDataPoint(){isc.FacetChart.$102q(this.$100v!=null);var _1=this.$1043();if(_1.showDataPoints==true){this.$100v.knobShape.setFillColor(this.$100v.prevFillColor);this.$100v.knobShape.setLineColor(this.$100v.prevLineColor);delete this.$100v.prevFillColor;delete this.$100v.prevLineColor}else{isc.FacetChart.$102q(!this.$100v.destroyed);this.$100v.moveTo(-100,-100);this.$100v.destroy()}
delete this.$100v},isc.A.$100z=function isc_FacetChart__cleanHighlightedItem(){isc.FacetChart.$102q(this.$100y!=null&&!this.$100y.destroyed);this.$100y.setLineColor(this.$100y.prevLineColor);this.$100y.setLineWidth(1);delete this.$100y.prevLineColor;if(this.$100y.radius){this.$100y.setFillOpacity(1.0)}
delete this.$100y},isc.A.$100x=function isc_FacetChart__getHighlightedColor(_1,_2){if(_1.charAt(0)=="#"){_1=_1.substring(1,7)}
var r=parseInt(_1.substring(0,2),16);var g=parseInt(_1.substring(2,4),16);var b=parseInt(_1.substring(4,6),16);r=Math.min(255,r+Math.round((r*_2)/100));g=Math.min(255,g+Math.round((g*_2)/100));b=Math.min(255,b+Math.round((b*_2)/100));return"#"+(r>15?"":"0")+r.toString(16)+(g>15?"":"0")+g.toString(16)+(b>15?"":"0")+b.toString(16)},isc.A.$104t=function isc_FacetChart__getHoverLabel(_1,_2,_3,_4,_5){var _6;isc.FacetChart.$102q(_2!=null);if(_3!=null){_6=(_1[_2]||(_1[_2]={}))[_3]}else{_6=_1[_2]}
if(_6!=null){isc.FacetChart.$102q(!(_6.value==null||isNaN(_6.value)));return _6}else if(_5==null){return null}else{isc.FacetChart.$102q(!isNaN(_5));var _7=_4.formatDataValue(_5);_6=this.measureHoverLabel(_7);_6.text=_7;_6.value=_5;if(_3!=null){_1[_2][_3]=_6}else{_1[_2]=_6}
return _6}},isc.A.measureHoverLabel=function isc_FacetChart_measureHoverLabel(_1){return this.measureLabel(_1,this.hoverLabelProperties)},isc.A.destroy=function isc_FacetChart_destroy(){this.$1002();this.Super("destroy",arguments)});isc.B._maxIndex=isc.C+189;isc.A=isc.FacetChart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$102q=function isc_c_FacetChart__assert(_1){if(!_1){}},isc.A.$105b=function isc_c_FacetChart__evenIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==0)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$105c=function isc_c_FacetChart__oddIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==1)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$102z=function isc_c_FacetChart__calculateOrdinaryLeastSquares(_1,_2){isc.FacetChart.$102q(_1.length==_2.length);var _3=isc.Math.$101l(_1),L=isc.Math.$101n(_3);if(L==null){var _5=isc.Math.$101t(_1);if(_5==null){return null}else{var m=_5.length,n=_5[0].length,b=new Array(m);for(var i=m;i--;){var _10=_5[i],_11=0;for(var j=n;j--;){_11+=_10[j]*_2[j]}
b[i]=_11}
return b}}
isc.FacetChart.$102q(_1[0].length==L.length);var _13=isc.Math.$101m(_1,_2);var n=L.length,z=new Array(n);for(var i=0;i<n;++i){var _15=L[i],_11=0;for(var j=i;j--;){isc.FacetChart.$102q(isc.isA.Number(z[j]));_11+=_15[j]*z[j]}
z[i]=(_13[i]-_11)/_15[i]}
var _16=new Array(n);for(var i=n;i--;){var _11=0;for(var j=i+1;j<n;++j){isc.FacetChart.$102q(isc.isA.Number(_16[j]));_11+=L[j][i]*_16[j]}
_16[i]=(z[i]-_11)/L[i][i]}
return _16},isc.A.$1020=function isc_c_FacetChart__generatePolynomial(_1){var _2=_1.length-1;var _3=isc.StringBuffer.newInstance();_3.append("return ");for(var i=_2;i--;){_3.append("(")}
_3.append(_1[_2]);for(var i=_2;i--;){_3.append("*x+",_1[i],")")}
_3.append(";");return new Function("x",_3.toString())},isc.A.$102v=function isc_c_FacetChart__calculateBestFitPolynomial(_1,_2,_3){isc.FacetChart.$102q(isc.isAn.Array(_2)&&isc.isAn.Array(_3)&&_2.length==_3.length);isc.FacetChart.$102q(isc.isA.Number(_1)&&_1>0&&Math.round(_1)==_1);var m=_2.length,n=_1+1,M=new Array(m);for(var i=m;i--;){var _8=M[i]=new Array(n),_9=_2[i];for(var j=0,_11=1;j<n;++j,_11*=_9){_8[j]=_11}}
var _12=isc.FacetChart.$102z(M,_3);return(_12!=null?isc.FacetChart.$1020(_12):null)},isc.A.$102y=function isc_c_FacetChart__clipDrawPathToRect(_1,_2,_3){isc.FacetChart.$102q(_2!=null);var n=_1.length;if(n==0){return[]}
var _5=[_2.left,_2.top,_2.left+_2.width,_2.top+_2.height],_6=[],_7=null,_8,_9=_1[0],_10=new Array(2);if(_5[0]<=_9[0]&&_9[0]<=_5[2]&&_5[1]<=_9[1]&&_9[1]<=_5[2]){_7=[_9]}
for(var i=1;i<n;++i){_8=_9;_9=_1[i];_10[0]=1/(_10[1]=(_9[1]-_8[1])/(_9[0]-_8[0]));var _12=_8,_13=_9;for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_18=_5[s+1+k];var _19=!(s*_12[k]>s*_18),_20=!(s*_13[k]>s*_18);if(_19^_20){var _21=new Array(2);_21[k]=_18;_21[l]=_12[l]+(_18-_12[k])*_10[l];if(!_19){_12=_21}else{_13=_21}}else if(!(_19||_20)){_12=_13=null;break}}
isc.FacetChart.$102q((_12==null)==(_13==null));if(_12==null){}else{if(_12===_8){}else{if(_3){_12[0]=Math.round(_12[0]);_12[1]=Math.round(_12[1])}
_7=[_12]}
if(_13===_9){_7.push(_9)}else{if(_3){_13[0]=Math.round(_13[0]);_13[1]=Math.round(_13[1])}
_7.push(_13);_6.push(_7);_7=null}}}
if(_7!=null){_6.push(_7)}
return _6});isc.B._maxIndex=isc.C+7}else{isc.defineClass("FacetChart","Canvas","Chart");isc.A=isc.FacetChart;isc.A.invalidClass=true;isc.A.invalidErrorMessage="FacetChart class requires optional Drawing module which is not loaded. Please make sure the Drawing module is included in this page before the Charts module.";isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.initWidget=function isc_FacetChart_initWidget(){this.logWarn(isc.FacetChart.invalidErrorMessage);this.Super("initWidget",arguments)});isc.B._maxIndex=isc.C+1}
isc.A=isc.FacetChart;isc.A.allChartTypes=["Area","Column","Bar","Line","Pie","Doughnut","Radar"];isc._moduleEnd=isc._Charts_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Charts module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Charts'.");}

/*

  SmartClient Ajax RIA system
  Version v8.3p_2013-03-13/Pro Development Only (2013-03-13)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF THE
     SOFTWARE LICENSE AGREEMENT. If you have received this file without an 
     Isomorphic Software license file, please see:

         http://www.isomorphic.com/licenses/license-sisv.html

     You are not required to accept this agreement, however, nothing else
     grants you the right to copy or use this software. Unauthorized copying
     and use of this software is a violation of international copyright law.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. YOU ARE EXPRESSLY PROHIBITED
     FROM ATTEMPTING TO REVERSE ENGINEER THIS SOFTWARE OR MODIFY THIS
     SOFTWARE FOR HUMAN READABILITY.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

